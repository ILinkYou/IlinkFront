import{h as S,g as z,a2 as ae,y as te,d as f,w,F as ne,l as ue,a3 as Se,a4 as Ct,a5 as At,a6 as xt,z as H,x as si,_ as ni,r as k,R as ht,c as he,u as oi,o as ai,f as ri,B as li,a as E,b as c,C as hi,V as ci,e as ui,p as Le,A as je,n as ct,J as di,j as C,K as ut,P as pi,v as j,k as Be,m as Pe,a1 as mi,q as $e,N as ge,a7 as ze,i as X,L as fi,O as gi,t as dt}from"./index-CJLpBExw.js";const vi="/assets/Btemplate01-Xg7FovB-.webp",bi="/assets/Btemplate010-BxLbPuiq.webp",wi="/assets/Btemplate011-BSosXeMG.webp",yi="/assets/Btemplate012-BG47ekV6.webp",_i="/assets/Btemplate02-CTAr76AO.webp",zi="/assets/Btemplate03-DmbfdcpI.webp",Ci="/assets/Btemplate04-M9BTcJbl.webp",Ai="/assets/Btemplate05-DnRJmgOn.webp",xi="/assets/Btemplate06-DyXVHHYn.webp",Ri="/assets/Btemplate07-B4CAEqLA.webp",ki="/assets/Btemplate08-C87OxiPy.webp",Mi="/assets/Btemplate09-uNSZyVN0.webp",Si="/assets/Wtemplate01-qeIcOYsQ.webp",Ei="/assets/Wtemplate010-CO6v6Ncx.webp",Wi="/assets/Wtemplate011-D03s4ABV.webp",Ti="/assets/Wtemplate012-BMQZQ1dV.webp",Di="/assets/Wtemplate02-Bhrhg1Yu.webp",Li="/assets/Wtemplate03-Cj71wINM.webp",ji="/assets/Wtemplate04-DzU9T49Q.webp",Bi="/assets/Wtemplate05-BR0ipiyB.webp",Pi="/assets/Wtemplate06-DS7KwUCU.webp",$i="/assets/Wtemplate07-pzKL2r7E.webp",Oi="/assets/Wtemplate08-MvuhNnF4.webp",Hi="/assets/Wtemplate09-CmcNnbVK.webp",Ii="/assets/create_profile-DFLG-e-d.webp",Ui="/assets/download_app-JtanqlAT.webp",Vi="/assets/easy_smart-D1MleyBf.webp",Yi="/assets/homepage-DxrPMBWr.webp",Fi="/assets/profile_page-CGF5qOxp.webp",Ni="/assets/profile_preview-CdZQu5HZ.webp",Xi="/assets/shop_now-DxEonXZ8.webp",Zi="/assets/why_ilink-CaQbvU5c.webp",qi="/assets/social01-DJmVFJEg.jpg",Gi="/assets/social02-DBPYl6_F.jpg",Qi="/assets/social03-BlM-j8hP.jpg",Ji="/assets/social04-HrFt0bDJ.jpg",Ki="/assets/social05-CdKiEcsL.jpg",es="/assets/social06-B39rYecg.jpg",ts="/assets/social07-CxccJxtv.jpg",is="/assets/social08-CyITdBw5.jpg",ss="/assets/social09-Dm8WMOwz.jpg",ns="/assets/social10-DbflXvic.jpg",os="/assets/social11-CCFcIDyF.jpg",as="/assets/social12-C4zZhM5b.jpg",rs="/assets/social13-DCaJXlqN.jpg",ls="/assets/social14-NlEC8k65.jpg",hs="/assets/social15-D04fE5Ef.jpg";function pt(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),i.push.apply(i,n)}return i}function x(e){for(var t=1;t<arguments.length;t++){var i=arguments[t]!=null?arguments[t]:{};t%2?pt(Object(i),!0).forEach(function(n){U(e,n,i[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):pt(Object(i)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(i,n))})}return e}function U(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function cs(e,t){if(e==null)return{};var i,n,o=function(r,l){if(r==null)return{};var a,u,d={},p=Object.keys(r);for(u=0;u<p.length;u++)a=p[u],l.indexOf(a)>=0||(d[a]=r[a]);return d}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)i=s[n],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(o[i]=e[i])}return o}function oe(e){return function(t){if(Array.isArray(t))return Oe(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||function(t,i){if(t){if(typeof t=="string")return Oe(t,i);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Oe(t,i)}}(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Oe(e,t){(t==null||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}var mt,us,Ce,T=(mt=function(e){/*!
  Copyright (c) 2018 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var t={}.hasOwnProperty;function i(){for(var n=[],o=0;o<arguments.length;o++){var s=arguments[o];if(s){var r=typeof s;if(r==="string"||r==="number")n.push(s);else if(Array.isArray(s)){if(s.length){var l=i.apply(null,s);l&&n.push(l)}}else if(r==="object")if(s.toString===Object.prototype.toString)for(var a in s)t.call(s,a)&&s[a]&&n.push(a);else n.push(s.toString())}}return n.join(" ")}e.exports?(i.default=i,e.exports=i):window.classNames=i})()},mt(Ce={path:us,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(t==null&&Ce.path)}},Ce.exports),Ce.exports),Y=function(e){return function(t,i){if(!t)return e;var n;typeof t=="string"?n=t:i=t;var o=e;return n&&(o+="__"+n),o+(i?Object.keys(i).reduce(function(s,r){var l=i[r];return l&&(s+=" "+(typeof l=="boolean"?o+"--"+r:o+"--"+r+"_"+l)),s},""):"")}};function Fe(e,t,i){var n,o,s,r,l;function a(){var d=Date.now()-r;d<t&&d>=0?n=setTimeout(a,t-d):(n=null,i||(l=e.apply(s,o),s=o=null))}t==null&&(t=100);var u=function(){s=this,o=arguments,r=Date.now();var d=i&&!n;return n||(n=setTimeout(a,t)),d&&(l=e.apply(s,o),s=o=null),l};return u.clear=function(){n&&(clearTimeout(n),n=null)},u.flush=function(){n&&(l=e.apply(s,o),s=o=null,clearTimeout(n),n=null)},u}Fe.debounce=Fe;var Ne=Fe,y=function(){return y=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},y.apply(this,arguments)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function Rt(e,t){var i,n;return e&&t?(i=""+e+t[0].toUpperCase()+t.slice(1),n=e+"-"+t):(i=e||t,n=e||t),{name:i,classname:n}}function kt(e){return/^blob:/.test(e)}function ft(e){return kt(e)||function(t){return/^data:/.test(t)}(e)}function ce(e){return!!(e&&e.constructor&&e.call&&e.apply)}function B(e){return e===void 0}function Me(e){return typeof e=="object"&&e!==null}function Xe(e,t,i){var n={};return Me(e)?(Object.keys(t).forEach(function(o){B(e[o])?n[o]=t[o]:Me(t[o])?Me(e[o])?n[o]=Xe(e[o],t[o],i[o]):n[o]=e[o]?t[o]:i[o]:t[o]===!0||t[o]===!1?n[o]=!!e[o]:n[o]=e[o]}),n):e?t:i}function Ae(e){var t=Number(e);return Number.isNaN(t)?e:t}function gt(e){return typeof(e=="number"||function(t){return typeof t=="object"&&t!==null}(e)&&toString.call(e)=="[object Number]")&&!Mt(e)}function Mt(e){return e!=e}function St(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}var ve=function(e,t){e===void 0&&(e={}),t===void 0&&(t={}),this.type="manipulateImage",this.move=e,this.scale=t},ds=function(e,t){t===void 0&&(t={}),this.type="resize",this.directions=e,this.params=t},Qe=function(e){this.type="move",this.directions=e},ps=function(){function e(t,i,n,o,s){this.type="drag",this.nativeEvent=t,this.position=n,this.previousPosition=o,this.element=i,this.anchor=s}return e.prototype.shift=function(){var t=this,i=t.element,n=t.anchor,o=t.position;if(i){var s=i.getBoundingClientRect(),r=s.left,l=s.top;return{left:o.left-r-n.left,top:o.top-l-n.top}}return{left:0,top:0}},e}(),Je={name:"DraggableElement",props:{classname:{type:String}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){if(!this.$refs.draggable)throw new Error('You should add ref "draggable" to your root element to use draggable mixin');this.touches=[],this.hovered=!1},methods:{onMouseOver:function(){this.hovered||(this.hovered=!0,this.$emit("enter"))},onMouseLeave:function(){this.hovered&&!this.touches.length&&(this.hovered=!1,this.$emit("leave"))},onTouchStart:function(e){e.cancelable&&!this.disabled&&e.touches.length===1&&(this.touches=oe(e.touches),this.hovered||(this.$emit("enter"),this.hovered=!0),e.touches.length&&this.initAnchor(this.touches.reduce(function(t,i){return{clientX:t.clientX+i.clientX/e.touches.length,clientY:t.clientY+i.clientY/e.touches.length}},{clientX:0,clientY:0})),e.preventDefault&&e.preventDefault(),e.stopPropagation())},onTouchEnd:function(){this.processEnd()},onTouchMove:function(e){this.touches.length&&(this.processMove(e,e.touches),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation())},onMouseDown:function(e){if(!this.disabled){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.preventDefault())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.draggable.getBoundingClientRect(),i=t.left,n=t.right,o=t.bottom,s=t.top;this.anchor={left:e.clientX-i,top:e.clientY-s,bottom:o-e.clientY,right:n-e.clientX}},processMove:function(e,t){var i=oe(t);if(this.touches.length){if(this.touches.length===1&&i.length===1){var n=this.$refs.draggable;this.$emit("drag",new ps(e,n,{left:i[0].clientX,top:i[0].clientY},{left:this.touches[0].clientX,top:this.touches[0].clientY},this.anchor))}this.touches=i}},processEnd:function(){this.touches.length&&this.$emit("drag-end"),this.hovered&&(this.$emit("leave"),this.hovered=!1),this.touches=[]}},emits:["drag","drag-end","leave","enter"]};Je.render=function(e,t,i,n,o,s){return z(),S("div",{ref:"draggable",class:i.classname,onTouchstart:t[1]||(t[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:t[2]||(t[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)}),onMouseover:t[3]||(t[3]=function(){return s.onMouseOver&&s.onMouseOver.apply(s,arguments)}),onMouseleave:t[4]||(t[4]=function(){return s.onMouseLeave&&s.onMouseLeave.apply(s,arguments)})},[ae(e.$slots,"default")],34)};var He=Y("vue-handler-wrapper"),Et={name:"HandlerWrapper",components:{DraggableElement:Je},props:{horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},computed:{classes:function(){var e;if(this.horizontalPosition||this.verticalPosition){var t,i=Rt(this.horizontalPosition,this.verticalPosition);e=He((U(t={},i.classname,!0),U(t,"disabled",this.disabled),t))}else e=He({disabled:this.disabled});return{root:e,draggable:He("draggable")}}},emits:["leave","enter","drag","drag-end"]};Et.render=function(e,t,i,n,o,s){var r=te("DraggableElement");return z(),S("div",{class:s.classes.root},[f(r,{class:s.classes.draggable,onDrag:t[1]||(t[1]=function(l){return e.$emit("drag",l)}),onDragEnd:t[2]||(t[2]=function(l){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(l){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(l){return e.$emit("enter")})},{default:w(function(){return[ae(e.$slots,"default")]}),_:3},8,["class"])],2)};var ms=Y("vue-line-wrapper"),Wt={name:"LineWrapper",components:{DraggableElement:Je},props:{position:{type:String,required:!0},disabled:{type:Boolean,default:!1}},computed:{classname:function(){var e;return ms((U(e={},this.position,!0),U(e,"disabled",this.disabled),e))}},emits:["leave","enter","drag","drag-end"]};Wt.render=function(e,t,i,n,o,s){var r=te("DraggableElement");return z(),S(r,{class:s.classname,onDrag:t[1]||(t[1]=function(l){return e.$emit("drag",l)}),onDragEnd:t[2]||(t[2]=function(l){return e.$emit("drag-end")}),onLeave:t[3]||(t[3]=function(l){return e.$emit("leave")}),onEnter:t[4]||(t[4]=function(l){return e.$emit("enter")})},{default:w(function(){return[ae(e.$slots,"default")]}),_:3},8,["class"])};var q=["left","right","top","bottom"],fs=["left","right"],gs=["top","bottom"],vs=["left","top"],bs=["fill-area","fit-area","stencil","none"],vt={left:0,top:0,width:0,height:0};function bt(e,t,i){return!(i=i||["width","height","left","top"]).some(function(n){return e[n]!==t[n]})}function G(e){return{left:e.left,top:e.top,right:e.left+e.width,bottom:e.top+e.height}}function de(e,t){return{left:e.left-t.left,top:e.top-t.top}}function P(e){return{left:e.left+e.width/2,top:e.top+e.height/2}}function be(e,t){var i={left:0,top:0,right:0,bottom:0};return q.forEach(function(n){var o=t[n],s=G(e)[n];i[n]=o!==void 0&&s!==void 0?n==="left"||n==="top"?Math.max(0,o-s):Math.max(0,s-o):0}),i}function Z(e,t){return{left:e.left-t.left,top:e.top-t.top,width:e.width+t.left+t.right,height:e.height+t.top+t.bottom}}function Ee(e){return{left:-e.left,top:-e.top}}function I(e,t){return y(y({},e),{left:e.left+t.left,top:e.top+t.top})}function V(e,t,i,n){if(t!==1){if(i){var o=P(e);return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2+(i.left-o.left)*(1-t),top:e.top+e.height*(1-t)/2+(i.top-o.top)*(1-t)}}return{width:e.width*t,height:e.height*t,left:e.left+e.width*(1-t)/2,top:e.top+e.height*(1-t)/2}}return e}function R(e){return e.width/e.height}function pe(e,t){return Math.min(t.right!==void 0&&t.left!==void 0?(t.right-t.left)/e.width:1/0,t.bottom!==void 0&&t.top!==void 0?(t.bottom-t.top)/e.height:1/0)}function me(e,t){var i={left:0,top:0},n=be(e,t);return n.left&&n.left>0?i.left=n.left:n.right&&n.right>0&&(i.left=-n.right),n.top&&n.top>0?i.top=n.top:n.bottom&&n.bottom>0&&(i.top=-n.bottom),i}function Ie(e,t){var i;return t.minimum&&e<t.minimum?i=t.minimum:t.maximum&&e>t.maximum&&(i=t.maximum),i}function Tt(e,t){var i=R(e),n=R(t);return t.width<1/0&&t.height<1/0?i>n?{width:t.width,height:t.width/i}:{width:t.height*i,height:t.height}:t.width<1/0?{width:t.width,height:t.width/i}:t.height<1/0?{width:t.height*i,height:t.height}:e}function Dt(e,t){var i=t*Math.PI/180;return{width:Math.abs(e.width*Math.cos(i))+Math.abs(e.height*Math.sin(i)),height:Math.abs(e.width*Math.sin(i))+Math.abs(e.height*Math.cos(i))}}function se(e,t){var i=t*Math.PI/180;return{left:e.left*Math.cos(i)-e.top*Math.sin(i),top:e.left*Math.sin(i)+e.top*Math.cos(i)}}function We(e,t){var i=be($(e,t),t);return i.left+i.right+i.top+i.bottom?i.left+i.right>i.top+i.bottom?Math.min((e.width+i.left+i.right)/e.width,pe(e,t)):Math.min((e.height+i.top+i.bottom)/e.height,pe(e,t)):1}function $(e,t,i){i===void 0&&(i=!1);var n=me(e,t);return I(e,i?Ee(n):n)}function Ze(e){return{width:e.right!==void 0&&e.left!==void 0?e.right-e.left:1/0,height:e.bottom!==void 0&&e.top!==void 0?e.bottom-e.top:1/0}}function ws(e,t){return y(y({},e),{minWidth:Math.min(t.width,e.minWidth),minHeight:Math.min(t.height,e.minHeight),maxWidth:Math.min(t.width,e.maxWidth),maxHeight:Math.min(t.height,e.maxHeight)})}function Lt(e,t,i){i===void 0&&(i=!0);var n={};return q.forEach(function(o){var s=e[o],r=t[o];s!==void 0&&r!==void 0?n[o]=o==="left"||o==="top"?i?Math.max(s,r):Math.min(s,r):i?Math.min(s,r):Math.max(s,r):r!==void 0?n[o]=r:s!==void 0&&(n[o]=s)}),n}function Te(e,t){return Lt(e,t,!0)}function wt(e){var t=e.size,i=e.aspectRatio,n=e.ignoreMinimum,o=e.sizeRestrictions;return!!((t.correctRatio||R(t)>=i.minimum&&R(t)<=i.maximum)&&t.height<=o.maxHeight&&t.width<=o.maxWidth&&t.width&&t.height&&(n||t.height>=o.minHeight&&t.width>=o.minWidth))}function yt(e,t){return Math.pow(e.width-t.width,2)+Math.pow(e.height-t.height,2)}function ee(e){var t=e.width,i=e.height,n=e.sizeRestrictions,o={minimum:e.aspectRatio&&e.aspectRatio.minimum||0,maximum:e.aspectRatio&&e.aspectRatio.maximum||1/0},s={width:Math.max(n.minWidth,Math.min(n.maxWidth,t)),height:Math.max(n.minHeight,Math.min(n.maxHeight,i))};function r(u,d){return d===void 0&&(d=!1),u.reduce(function(p,m){return wt({size:m,aspectRatio:o,sizeRestrictions:n,ignoreMinimum:d})&&(!p||yt(m,{width:t,height:i})<yt(p,{width:t,height:i}))?m:p},null)}var l=[];o&&[o.minimum,o.maximum].forEach(function(u){u&&l.push({width:s.width,height:s.width/u,correctRatio:!0},{width:s.height*u,height:s.height,correctRatio:!0})}),wt({size:s,aspectRatio:o,sizeRestrictions:n})&&l.push(s);var a=r(l)||r(l,!0);return a&&{width:a.width,height:a.height}}function qe(e){var t=e.event,i=e.coordinates,n=e.positionRestrictions,o=n===void 0?{}:n,s=I(i,t.directions);return I(s,me(s,o))}function ys(e){var t=e.coordinates,i=e.transform,n=e.imageSize,o=e.sizeRestrictions,s=e.positionRestrictions,r=e.aspectRatio,l=e.visibleArea,a=function(d,p){return qe({coordinates:d,positionRestrictions:s,event:new Qe({left:p.left-d.left,top:p.top-d.top})})},u=y({},t);return(Array.isArray(i)?i:[i]).forEach(function(d){var p={};B((p=typeof d=="function"?d({coordinates:u,imageSize:n,visibleArea:l}):d).width)&&B(p.height)||(u=function(m,v){var A=y(y(y({},m),ee({width:v.width,height:v.height,sizeRestrictions:o,aspectRatio:r})),{left:0,top:0});return a(A,{left:m.left,top:m.top})}(u,y(y({},u),p))),B(p.left)&&B(p.top)||(u=a(u,y(y({},u),p)))}),u}function _s(e){e.event;var t=e.getAreaRestrictions,i=e.boundaries,n=e.coordinates,o=e.visibleArea;e.aspectRatio;var s=e.stencilSize,r=e.sizeRestrictions,l=e.positionRestrictions;e.stencilReference;var a,u,d,p=y({},n),m=y({},o),v=y({},s);a=R(v),u=R(p),d===void 0&&(d=.001),(a===0||u===0?Math.abs(u-a)<d:Math.abs(u/a)<1+d&&Math.abs(u/a)>1-d)||(p=y(y({},p),ee({sizeRestrictions:r,width:p.width,height:p.height,aspectRatio:{minimum:R(v),maximum:R(v)}})));var A=We(m=V(m,p.width*i.width/(m.width*v.width)),t({visibleArea:m,type:"resize"}));return A!==1&&(m=V(m,A),p=V(p,A)),m=$(m=I(m,de(P(p),P(m))),t({visibleArea:m,type:"move"})),{coordinates:p=$(p,Te(G(m),l)),visibleArea:m}}function zs(e){var t=e.event,i=e.getAreaRestrictions,n=e.boundaries,o=e.coordinates,s=e.visibleArea;e.aspectRatio,e.stencilSize,e.sizeRestrictions;var r=e.positionRestrictions;e.stencilReference;var l=y({},o),a=y({},s);if(o&&s&&t.type!=="manipulateImage"){var u={width:0,height:0};a.width,n.width,R(n)>R(l)?(u.height=.8*n.height,u.width=u.height*R(l)):(u.width=.8*n.width,u.height=u.width*R(l));var d=We(a=V(a,l.width*n.width/(a.width*u.width)),i({visibleArea:a,type:"resize"}));a=V(a,d),d!==1&&(u.height/=d,u.width/=d),a=$(a=I(a,de(P(l),P(a))),i({visibleArea:a,type:"move"})),l=$(l,Te(G(a),r))}return{coordinates:l,visibleArea:a}}function Cs(e){var t=e.event,i=e.coordinates,n=e.visibleArea,o=e.getAreaRestrictions,s=y({},n),r=y({},i);if(t.type==="setCoordinates"){var l=Math.max(0,r.width-s.width),a=Math.max(0,r.height-s.height);l>a?s=V(s,Math.min(r.width/s.width,pe(s,o({visibleArea:s,type:"resize"})))):a>l&&(s=V(s,Math.min(r.height/s.height,pe(s,o({visibleArea:s,type:"resize"}))))),s=$(s=I(s,Ee(me(r,G(s)))),o({visibleArea:s,type:"move"}))}return{visibleArea:s,coordinates:r}}function As(e){var t=e.imageSize,i=e.visibleArea,n=e.coordinates,o=i||t;return{left:(i?i.left:0)+o.width/2-n.width/2,top:(i?i.top:0)+o.height/2-n.height/2}}function xs(e){var t=e.imageSize,i=e.visibleArea,n=e.aspectRatio,o=e.sizeRestrictions,s=i||t,r=Math.min(n.maximum||1/0,Math.max(n.minimum||0,R(s))),l=s.width<s.height?{width:.8*s.width,height:.8*s.width/r}:{height:.8*s.height,width:.8*s.height*r};return ee(y(y({},l),{aspectRatio:n,sizeRestrictions:o}))}function Rs(e){var t,i,n=e.imageSize,o=e.visibleArea,s=e.boundaries,r=e.aspectRatio,l=e.sizeRestrictions,a=e.stencilSize,u=o||n;return R(u)>R(s)?i=(t=a.height*u.height/s.height)*R(a):t=(i=a.width*u.width/s.width)/R(a),ee({width:i,height:t,aspectRatio:r,sizeRestrictions:l})}function ks(e){var t=e.getAreaRestrictions,i=e.coordinates,n=e.imageSize,o=R(e.boundaries);if(i){var s={height:Math.max(i.height,n.height),width:Math.max(i.width,n.width)},r=Tt({width:R(s)>o?s.width:s.height*o,height:R(s)>o?s.width/o:s.height},Ze(t())),l={left:i.left+i.width/2-r.width/2,top:i.top+i.height/2-r.height/2,width:r.width,height:r.height},a=be(i,G(y({left:0,top:0},n))),u={};return!a.left&&!a.right&&l.width<=n.width&&(u.left=0,u.right=n.width),!a.top&&!a.bottom&&l.height<=n.height&&(u.top=0,u.bottom=n.height),$(l,u)}var d=R(n);return r={height:d>o?n.height:n.width/o,width:d>o?n.height*o:n.width},{left:n.width/2-r.width/2,top:n.height/2-r.height/2,width:r.width,height:r.height}}function xe(e,t){return Lt(e,G(t))}function Ms(e){var t=e.event,i=e.coordinates,n=e.visibleArea,o=e.sizeRestrictions,s=e.getAreaRestrictions,r=e.positionRestrictions,l=e.adjustStencil,a=t.scale,u=t.move,d=y({},n),p=y({},i),m=1,v=1,A=a.factor&&Math.abs(a.factor-1)>.001;d=I(d,{left:u.left||0,top:u.top||0});var _={stencil:{minimum:Math.max(o.minWidth?o.minWidth/p.width:0,o.minHeight?o.minHeight/p.height:0),maximum:Math.min(o.maxWidth?o.maxWidth/p.width:1/0,o.maxHeight?o.maxHeight/p.height:1/0,pe(p,r))},area:{maximum:pe(d,s({visibleArea:d,type:"resize"}))}};a.factor&&A&&(a.factor<1?(v=Math.max(a.factor,_.stencil.minimum))>1&&(v=1):a.factor>1&&(v=Math.min(a.factor,Math.min(_.area.maximum,_.stencil.maximum)))<1&&(v=1)),v&&(d=V(d,v,a.center));var W=i.left-n.left,D=n.width+n.left-(i.width+i.left),Q=i.top-n.top,ie=n.height+n.top-(i.height+i.top);return d=$(d=I(d,me(d,{left:r.left!==void 0?r.left-W*v:void 0,top:r.top!==void 0?r.top-Q*v:void 0,bottom:r.bottom!==void 0?r.bottom+ie*v:void 0,right:r.right!==void 0?r.right+D*v:void 0})),s({visibleArea:d,type:"move"})),p.width=p.width*v,p.height=p.height*v,p.left=d.left+W*v,p.top=d.top+Q*v,p=$(p,Te(G(d),r)),a.factor&&A&&l&&(a.factor>1?m=Math.min(_.area.maximum,a.factor)/v:a.factor<1&&(m=Math.max(p.height/d.height,p.width/d.width,a.factor/v)),m!==1&&(d=I(d=$(d=V(d,m,a.factor>1?a.center:P(p)),s({visibleArea:d,type:"move"})),Ee(me(p,G(d)))))),{coordinates:p,visibleArea:d}}function Ss(e){var t=e.aspectRatio,i=e.getAreaRestrictions,n=e.coordinates,o=e.visibleArea,s=e.sizeRestrictions,r=e.positionRestrictions,l=e.imageSize,a=e.previousImageSize,u=e.angle,d=y({},n),p=y({},o),m=se(P(y({left:0,top:0},a)),u);return(d=y(y({},ee({sizeRestrictions:s,aspectRatio:t,width:d.width,height:d.height})),se(P(d),u))).left-=m.left-l.width/2+d.width/2,d.top-=m.top-l.height/2+d.height/2,p=V(p,We(p,i({visibleArea:p,type:"resize"}))),{coordinates:d=$(d,r),visibleArea:p=$(p=I(p,de(P(d),P(n))),i({visibleArea:p,type:"move"}))}}function Es(e){var t=e.flip,i=e.previousFlip,n=e.rotate,o=e.getAreaRestrictions,s=e.coordinates,r=e.visibleArea,l=e.imageSize,a=y({},s),u=y({},r),d=i.horizontal!==t.horizontal,p=i.vertical!==t.vertical;if(d||p){var m=se({left:l.width/2,top:l.height/2},-n),v=se(P(a),-n),A=se({left:d?m.left-(v.left-m.left):v.left,top:p?m.top-(v.top-m.top):v.top},n);a=I(a,de(A,P(a))),v=se(P(u),-n),u=$(u=I(u,de(A=se({left:d?m.left-(v.left-m.left):v.left,top:p?m.top-(v.top-m.top):v.top},n),P(u))),o({visibleArea:u,type:"move"}))}return{coordinates:a,visibleArea:u}}function _t(e){var t=e.directions,i=e.coordinates,n=e.positionRestrictions,o=n===void 0?{}:n,s=e.sizeRestrictions,r=e.preserveRatio,l=e.compensate,a=y({},t),u=Z(i,a).width,d=Z(i,a).height;u<0&&(a.left<0&&a.right<0?(a.left=-(i.width-s.minWidth)/(a.left/a.right),a.right=-(i.width-s.minWidth)/(a.right/a.left)):a.left<0?a.left=-(i.width-s.minWidth):a.right<0&&(a.right=-(i.width-s.minWidth))),d<0&&(a.top<0&&a.bottom<0?(a.top=-(i.height-s.minHeight)/(a.top/a.bottom),a.bottom=-(i.height-s.minHeight)/(a.bottom/a.top)):a.top<0?a.top=-(i.height-s.minHeight):a.bottom<0&&(a.bottom=-(i.height-s.minHeight)));var p=be(Z(i,a),o);l&&(p.left&&p.left>0&&p.right===0?(a.right+=p.left,a.left-=p.left):p.right&&p.right>0&&p.left===0&&(a.left+=p.right,a.right-=p.right),p.top&&p.top>0&&p.bottom===0?(a.bottom+=p.top,a.top-=p.top):p.bottom&&p.bottom>0&&p.top===0&&(a.top+=p.bottom,a.bottom-=p.bottom),p=be(Z(i,a),o));var m={width:1/0,height:1/0,left:1/0,right:1/0,top:1/0,bottom:1/0};if(q.forEach(function(_){var W=p[_];W&&a[_]&&(m[_]=Math.max(0,1-W/a[_]))}),r){var v=Math.min.apply(null,q.map(function(_){return m[_]}));v!==1/0&&q.forEach(function(_){a[_]*=v})}else q.forEach(function(_){m[_]!==1/0&&(a[_]*=m[_])});if(u=Z(i,a).width,d=Z(i,a).height,a.right+a.left&&(u>s.maxWidth?m.width=(s.maxWidth-i.width)/(a.right+a.left):u<s.minWidth&&(m.width=(s.minWidth-i.width)/(a.right+a.left))),a.bottom+a.top&&(d>s.maxHeight?m.height=(s.maxHeight-i.height)/(a.bottom+a.top):d<s.minHeight&&(m.height=(s.minHeight-i.height)/(a.bottom+a.top))),r){var A=Math.min(m.width,m.height);A!==1/0&&q.forEach(function(_){a[_]*=A})}else m.width!==1/0&&fs.forEach(function(_){a[_]*=m.width}),m.height!==1/0&&gs.forEach(function(_){a[_]*=m.height});return a}function Re(e,t,i){return t==0&&i==0?e/2:t==0?0:i==0?e:e*Math.abs(t/(t+i))}var Ws=Y("vue-simple-handler"),Ts=Y("vue-simple-handler-wrapper"),Ke={name:"SimpleHandler",components:{HandlerWrapper:Et},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},horizontalPosition:{type:String},verticalPosition:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){var e,t=(U(e={},this.horizontalPosition,!!this.horizontalPosition),U(e,this.verticalPosition,!!this.verticalPosition),U(e,"".concat(this.horizontalPosition,"-").concat(this.verticalPosition),!!(this.verticalPosition&&this.horizontalPosition)),U(e,"hover",this.hover),e);return{default:T(Ws(t),this.defaultClass,this.hover&&this.hoverClass),wrapper:T(Ts(t),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};Ke.render=function(e,t,i,n,o,s){var r=te("HandlerWrapper");return z(),S(r,{class:s.classes.wrapper,"vertical-position":i.verticalPosition,"horizontal-position":i.horizontalPosition,disabled:i.disabled,onDrag:s.onDrag,onDragEnd:s.onDragEnd,onEnter:s.onEnter,onLeave:s.onLeave},{default:w(function(){return[f("div",{class:s.classes.default},null,2)]}),_:1},8,["class","vertical-position","horizontal-position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var Ds=Y("vue-simple-line"),Ls=Y("vue-simple-line-wrapper"),et={name:"SimpleLine",components:{LineWrapper:Wt},props:{defaultClass:{type:String},hoverClass:{type:String},wrapperClass:{type:String},position:{type:String},disabled:{type:Boolean,default:!1}},data:function(){return{hover:!1}},computed:{classes:function(){return{root:T(Ds(U({},this.position,!0)),this.defaultClass,this.hover&&this.hoverClass),wrapper:T(Ls(U({},this.position,!0)),this.wrapperClass)}}},methods:{onDrag:function(e){this.$emit("drag",e)},onEnter:function(){this.hover=!0},onLeave:function(){this.hover=!1},onDragEnd:function(){this.$emit("drag-end")}},emits:["drag","drag-end"]};et.render=function(e,t,i,n,o,s){var r=te("LineWrapper");return z(),S(r,{class:s.classes.wrapper,position:i.position,disabled:i.disabled,onDrag:s.onDrag,onDragEnd:s.onDragEnd,onEnter:s.onEnter,onLeave:s.onLeave},{default:w(function(){return[f("div",{class:s.classes.root},null,2)]}),_:1},8,["class","position","disabled","onDrag","onDragEnd","onEnter","onLeave"])};var Ue=Y("vue-bounding-box"),js=["east","west",null],Bs=["south","north",null],jt={name:"BoundingBox",props:{width:{type:Number},height:{type:Number},transitions:{type:Object},handlers:{type:Object,default:function(){return{eastNorth:!0,north:!0,westNorth:!0,west:!0,westSouth:!0,south:!0,eastSouth:!0,east:!0}}},handlersComponent:{type:[Object,String],default:function(){return Ke}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}},lines:{type:Object,default:function(){return{west:!0,north:!0,east:!0,south:!0}}},linesComponent:{type:[Object,String],default:function(){return et}},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},resizable:{type:Boolean,default:!0}},data:function(){var e=[];return js.forEach(function(t){Bs.forEach(function(i){if(t!==i){var n=Rt(t,i),o=n.name,s=n.classname;e.push({name:o,classname:s,verticalDirection:i,horizontalDirection:t})}})}),{points:e}},computed:{style:function(){var e={};return this.width&&this.height&&(e.width="".concat(this.width,"px"),e.height="".concat(this.height,"px"),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction))),e},classes:function(){var e=this.handlersClasses,t=this.handlersWrappersClasses,i=this.linesClasses,n=this.linesWrappersClasses;return{root:Ue(),handlers:e,handlersWrappers:t,lines:i,linesWrappers:n}},lineNodes:function(){var e=this,t=[];return this.points.forEach(function(i){i.horizontalDirection&&i.verticalDirection||!e.lines[i.name]||t.push({name:i.name,component:e.linesComponent,class:T(e.classes.lines.default,e.classes.lines[i.name],!e.resizable&&e.classes.lines.disabled),wrapperClass:T(e.classes.linesWrappers.default,e.classes.linesWrappers[i.name],!e.resizable&&e.classes.linesWrappers.disabled),hoverClass:e.classes.lines.hover,verticalDirection:i.verticalDirection,horizontalDirection:i.horizontalDirection,disabled:!e.resizable})}),t},handlerNodes:function(){var e=this,t=[],i=this.width,n=this.height;return this.points.forEach(function(o){if(e.handlers[o.name]){var s={name:o.name,component:e.handlersComponent,class:T(e.classes.handlers.default,e.classes.handlers[o.name]),wrapperClass:T(e.classes.handlersWrappers.default,e.classes.handlersWrappers[o.name]),hoverClass:e.classes.handlers.hover,verticalDirection:o.verticalDirection,horizontalDirection:o.horizontalDirection,disabled:!e.resizable};if(i&&n){var r=o.horizontalDirection,l=o.verticalDirection,a=r==="east"?i:r==="west"?0:i/2,u=l==="south"?n:l==="north"?0:n/2;s.wrapperClass=Ue("handler"),s.wrapperStyle={transform:"translate(".concat(a,"px, ").concat(u,"px)")},e.transitions&&e.transitions.enabled&&(s.wrapperStyle.transition="".concat(e.transitions.time,"ms ").concat(e.transitions.timingFunction))}else s.wrapperClass=Ue("handler",U({},o.classname,!0));t.push(s)}}),t}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[]},methods:{onEnd:function(){this.$emit("resize-end")},onHandlerDrag:function(e,t,i){var n,o=e.shift(),s=o.left,r=o.top,l={left:0,right:0,top:0,bottom:0};t==="west"?l.left-=s:t==="east"&&(l.right+=s),i==="north"?l.top-=r:i==="south"&&(l.bottom+=r),!i&&t?n="width":i&&!t&&(n="height"),this.resizable&&this.$emit("resize",new ds(l,{allowedDirections:{left:t==="west"||!t,right:t==="east"||!t,bottom:i==="south"||!i,top:i==="north"||!i},preserveAspectRatio:e.nativeEvent&&e.nativeEvent.shiftKey,respectDirection:n}))}},emits:["resize","resize-end"]};jt.render=function(e,t,i,n,o,s){return z(),S("div",{ref:"box",class:s.classes.root,style:s.style},[ae(e.$slots,"default"),f("div",null,[(z(!0),S(ne,null,ue(s.lineNodes,function(r){return z(),S(Se(r.component),{key:r.name,"default-class":r.class,"hover-class":r.hoverClass,"wrapper-class":r.wrapperClass,position:r.name,disabled:r.disabled,onDrag:function(l){return s.onHandlerDrag(l,r.horizontalDirection,r.verticalDirection)},onDragEnd:t[1]||(t[1]=function(l){return s.onEnd()})},null,8,["default-class","hover-class","wrapper-class","position","disabled","onDrag"])}),128))]),(z(!0),S(ne,null,ue(s.handlerNodes,function(r){return z(),S("div",{key:r.name,style:r.wrapperStyle,class:r.wrapperClass},[(z(),S(Se(r.component),{"default-class":r.class,"hover-class":r.hoverClass,"wrapper-class":r.wrapperClass,"horizontal-position":r.horizontalDirection,"vertical-position":r.verticalDirection,disabled:r.disabled,onDrag:function(l){return s.onHandlerDrag(l,r.horizontalDirection,r.verticalDirection)},onDragEnd:t[2]||(t[2]=function(l){return s.onEnd()})},null,8,["default-class","hover-class","wrapper-class","horizontal-position","vertical-position","disabled","onDrag"]))],6)}),128))],6)};var Ps=Y("vue-draggable-area"),Bt={name:"DraggableArea",props:{movable:{type:Boolean,default:!0},activationDistance:{type:Number,default:20}},computed:{classnames:function(){return{default:Ps()}}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},mounted:function(){this.touches=[],this.touchStarted=!1},methods:{onTouchStart:function(e){if(e.cancelable){var t=this.movable&&e.touches.length===1;t&&(this.touches=oe(e.touches)),(this.touchStarted||t)&&(e.preventDefault(),e.stopPropagation())}},onTouchEnd:function(){this.touchStarted=!1,this.processEnd()},onTouchMove:function(e){this.touches.length>=1&&(this.touchStarted?(this.processMove(e,e.touches),e.preventDefault(),e.stopPropagation()):St({x:this.touches[0].clientX,y:this.touches[0].clientY},{x:e.touches[0].clientX,y:e.touches[0].clientY})>this.activationDistance&&(this.initAnchor({clientX:e.touches[0].clientX,clientY:e.touches[0].clientY}),this.touchStarted=!0))},onMouseDown:function(e){if(this.movable&&e.button===0){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.initAnchor(t),e.stopPropagation()}},onMouseMove:function(e){this.touches.length&&(this.processMove(e,[{fake:!0,clientX:e.clientX,clientY:e.clientY}]),e.preventDefault&&e.cancelable&&e.preventDefault(),e.stopPropagation())},onMouseUp:function(){this.processEnd()},initAnchor:function(e){var t=this.$refs.container.getBoundingClientRect(),i=t.left,n=t.top;this.anchor={x:e.clientX-i,y:e.clientY-n}},processMove:function(e,t){var i=oe(t);if(this.touches.length){var n=this.$refs.container.getBoundingClientRect(),o=n.left,s=n.top;this.touches.length===1&&i.length===1&&this.$emit("move",new Qe({left:i[0].clientX-(o+this.anchor.x),top:i[0].clientY-(s+this.anchor.y)}))}},processEnd:function(){this.touches.length&&this.$emit("move-end"),this.touches=[]}},emits:["move","move-end"]};Bt.render=function(e,t,i,n,o,s){return z(),S("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:t[2]||(t[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)})},[ae(e.$slots,"default")],544)};function Ve(e){var t,i;return{rotate:e.rotate||0,flip:{horizontal:((t=e?.flip)===null||t===void 0?void 0:t.horizontal)||!1,vertical:((i=e?.flip)===null||i===void 0?void 0:i.vertical)||!1}}}function $s(e){return new Promise(function(t,i){try{if(e)if(/^data:/i.test(e))t(function(a){a=a.replace(/^data:([^;]+);base64,/gim,"");for(var u=atob(a),d=u.length,p=new ArrayBuffer(d),m=new Uint8Array(p),v=0;v<d;v++)m[v]=u.charCodeAt(v);return p}(e));else if(/^blob:/i.test(e)){var n=new FileReader;n.onload=function(a){t(a.target.result)},s=e,r=function(a){n.readAsArrayBuffer(a)},(l=new XMLHttpRequest).open("GET",s,!0),l.responseType="blob",l.onload=function(){this.status!=200&&this.status!==0||r(this.response)},l.send()}else{var o=new XMLHttpRequest;o.onreadystatechange=function(){o.readyState===4&&(o.status===200||o.status===0?t(o.response):i("Warning: could not load an image to parse its orientation"),o=null)},o.onprogress=function(){o.getResponseHeader("content-type")!=="image/jpeg"&&o.abort()},o.withCredentials=!1,o.open("GET",e,!0),o.responseType="arraybuffer",o.send(null)}else i("Error: the image is empty")}catch(a){i(a)}var s,r,l})}function Pt(e){var t=e.rotate,i=e.flip,n=e.scaleX,o=e.scaleY,s="";return s+=" rotate("+t+"deg) ",s+=" scaleX("+n*(i.horizontal?-1:1)+") ",s+=" scaleY("+o*(i.vertical?-1:1)+") "}function Os(e){try{var t,i=new DataView(e),n=void 0,o=void 0,s=void 0,r=void 0;if(i.getUint8(0)===255&&i.getUint8(1)===216)for(var l=i.byteLength,a=2;a+1<l;){if(i.getUint8(a)===255&&i.getUint8(a+1)===225){s=a;break}a++}if(s&&(n=s+10,function(v,A,_){var W,D="";for(W=A,_+=A;W<_;W++)D+=String.fromCharCode(v.getUint8(W));return D}(i,s+4,4)==="Exif")){var u=i.getUint16(n);if(((o=u===18761)||u===19789)&&i.getUint16(n+2,o)===42){var d=i.getUint32(n+4,o);d>=8&&(r=n+d)}}if(r){for(var p=i.getUint16(r,o),m=0;m<p;m++)if(a=r+12*m+2,i.getUint16(a,o)===274){a+=8,t=i.getUint16(a,o),i.setUint16(a,1,o);break}}return t}catch{return null}}function zt(e,t){var i=t.getBoundingClientRect(),n=i.left,o=i.top,s={left:0,top:0},r=0;return e.forEach(function(l){s.left+=(l.clientX-n)/e.length,s.top+=(l.clientY-o)/e.length}),e.forEach(function(l){r+=St({x:s.left,y:s.top},{x:l.clientX-n,y:l.clientY-o})}),{centerMass:s,spread:r,count:e.length}}var $t={props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0},eventsFilter:{type:Function,required:!1}},beforeMount:function(){window.addEventListener("mouseup",this.onMouseUp,{passive:!1}),window.addEventListener("mousemove",this.onMouseMove,{passive:!1}),window.addEventListener("touchmove",this.onTouchMove,{passive:!1}),window.addEventListener("touchend",this.onTouchEnd,{passive:!1})},beforeUnmount:function(){window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("touchend",this.onTouchEnd)},created:function(){this.transforming=!1,this.debouncedProcessEnd=Ne(this.processEnd),this.touches=[]},methods:{processMove:function(e,t){if(this.touches.length){if(this.touches.length===1&&t.length===1)this.$emit("move",new ve({left:this.touches[0].clientX-t[0].clientX,top:this.touches[0].clientY-t[0].clientY}));else if(this.touches.length>1&&this.touchResize){var i=zt(t,this.$refs.container),n=this.oldGeometricProperties;n.count===i.count&&n.count>1&&this.$emit("resize",new ve({left:n.centerMass.left-i.centerMass.left,top:n.centerMass.top-i.centerMass.top},{factor:n.spread/i.spread,center:i.centerMass})),this.oldGeometricProperties=i}this.touches=t}},processEnd:function(){this.transforming&&(this.transforming=!1,this.$emit("transform-end"))},processStart:function(){this.transforming=!0,this.debouncedProcessEnd.clear()},processEvent:function(e){return this.eventsFilter?this.eventsFilter(e,this.transforming)!==!1:(e.preventDefault(),e.stopPropagation(),!0)},onTouchStart:function(e){if(e.cancelable&&(this.touchMove||this.touchResize&&e.touches.length>1)&&this.processEvent(e)){var t=this.$refs.container,i=t.getBoundingClientRect(),n=i.left,o=i.top,s=i.bottom,r=i.right;this.touches=oe(e.touches).filter(function(l){return l.clientX>n&&l.clientX<r&&l.clientY>o&&l.clientY<s}),this.oldGeometricProperties=zt(this.touches,t)}},onTouchEnd:function(e){e.touches.length===0&&(this.touches=[],this.processEnd())},onTouchMove:function(e){var t=this;if(this.touches.length){var i=oe(e.touches).filter(function(n){return!n.identifier||t.touches.find(function(o){return o.identifier===n.identifier})});this.processEvent(e)&&(this.processMove(e,i),this.processStart())}},onMouseDown:function(e){if(this.mouseMove&&"buttons"in e&&e.buttons===1&&this.processEvent(e)){var t={fake:!0,clientX:e.clientX,clientY:e.clientY};this.touches=[t],this.processStart()}},onMouseMove:function(e){this.touches.length&&this.processEvent(e)&&this.processMove(e,[{clientX:e.clientX,clientY:e.clientY}])},onMouseUp:function(){this.touches=[],this.processEnd()},onWheel:function(e){if(this.wheelResize&&this.processEvent(e)){var t=this.$refs.container.getBoundingClientRect(),i=t.left,n=t.top,o=1+this.wheelResize.ratio*(r=e.deltaY||e.detail||e.wheelDelta,(l=+r)==0||Mt(l)?l:l>0?1:-1),s={left:e.clientX-i,top:e.clientY-n};this.$emit("resize",new ve({},{factor:o,center:s})),this.touches.length||this.debouncedProcessEnd()}var r,l}},emits:["resize","move","transform-end"]};$t.render=function(e,t,i,n,o,s){return z(),S("div",{ref:"container",onTouchstart:t[1]||(t[1]=function(){return s.onTouchStart&&s.onTouchStart.apply(s,arguments)}),onMousedown:t[2]||(t[2]=function(){return s.onMouseDown&&s.onMouseDown.apply(s,arguments)}),onWheel:t[3]||(t[3]=function(){return s.onWheel&&s.onWheel.apply(s,arguments)})},[ae(e.$slots,"default")],544)};var Ge={components:{TransformableImage:$t},props:{touchMove:{type:Boolean,required:!0},mouseMove:{type:Boolean,required:!0},touchResize:{type:Boolean,required:!0},wheelResize:{type:[Boolean,Object],required:!0}},emits:["resize","move"]};Ge.render=function(e,t,i,n,o,s){var r=te("transformable-image");return z(),S(r,{"touch-move":i.touchMove,"touch-resize":i.touchResize,"mouse-move":i.mouseMove,"wheel-resize":i.wheelResize,onMove:t[1]||(t[1]=function(l){return e.$emit("move",l)}),onResize:t[2]||(t[2]=function(l){return e.$emit("resize",l)})},{default:w(function(){return[ae(e.$slots,"default")]}),_:3},8,["touch-move","touch-resize","mouse-move","wheel-resize"])};var ke=Y("vue-preview"),Ot={props:{coordinates:{type:Object},transitions:{type:Object},image:{type:Object,default:function(){return{}}},imageClass:{type:String},width:{type:Number},height:{type:Number},fill:{type:Boolean}},data:function(){return{calculatedImageSize:{width:0,height:0},calculatedSize:{width:0,height:0}}},computed:{classes:function(){return{root:ke({fill:this.fill}),wrapper:ke("wrapper"),imageWrapper:ke("image-wrapper"),image:T(ke("image"),this.imageClass)}},style:function(){if(this.fill)return{};var e={};return this.width&&(e.width="".concat(this.size.width,"px")),this.height&&(e.height="".concat(this.size.height,"px")),this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},wrapperStyle:function(){var e={width:"".concat(this.size.width,"px"),height:"".concat(this.size.height,"px"),left:"calc(50% - ".concat(this.size.width/2,"px)"),top:"calc(50% - ".concat(this.size.height/2,"px)")};return this.transitions&&this.transitions.enabled&&(e.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),e},imageStyle:function(){if(this.coordinates&&this.image){var e=this.coordinates.width/this.size.width,t=x(x({rotate:0,flip:{horizontal:!1,vertical:!1}},this.image.transforms),{},{scaleX:1/e,scaleY:1/e}),i=this.imageSize.width,n=this.imageSize.height,o=Dt({width:i,height:n},t.rotate),s={width:"".concat(i,"px"),height:"".concat(n,"px"),left:"0px",top:"0px"},r={rotate:{left:(i-o.width)*t.scaleX/2,top:(n-o.height)*t.scaleY/2},scale:{left:(1-t.scaleX)*i/2,top:(1-t.scaleY)*n/2}};return s.transform=`translate(
				`.concat(-this.coordinates.left/e-r.rotate.left-r.scale.left,"px,").concat(-this.coordinates.top/e-r.rotate.top-r.scale.top,"px) ")+Pt(t),this.transitions&&this.transitions.enabled&&(s.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),s}return{}},size:function(){return{width:this.width||this.calculatedSize.width,height:this.height||this.calculatedSize.height}},imageSize:function(){return{width:this.image.width||this.calculatedImageSize.width,height:this.image.height||this.calculatedImageSize.height}}},watch:{image:function(e){(e.width||e.height)&&this.onChangeImage()}},mounted:function(){var e=this;this.onChangeImage(),this.$refs.image.addEventListener("load",function(){e.refreshImage()}),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh)},methods:{refreshImage:function(){var e=this.$refs.image;this.calculatedImageSize.height=e.naturalHeight,this.calculatedImageSize.width=e.naturalWidth},refresh:function(){var e=this.$refs.root;this.width||(this.calculatedSize.width=e.clientWidth),this.height||(this.calculatedSize.height=e.clientHeight)},onChangeImage:function(){var e=this.$refs.image;e&&e.complete&&this.refreshImage(),this.refresh()}}};Ot.render=function(e,t,i,n,o,s){return z(),S("div",{ref:"root",class:s.classes.root,style:s.style},[f("div",{ref:"wrapper",class:s.classes.wrapper,style:s.wrapperStyle},[Ct(f("img",{ref:"image",src:i.image&&i.image.src,class:s.classes.image,style:s.imageStyle},null,14,["src"]),[[At,i.image&&i.image.src]])],6)],6)};var Ht={components:{Preview:Ot},inheritAttrs:!1};Ht.render=function(e,t,i,n,o,s){var r=te("preview");return z(),S(r,xt(e.$attrs,{fill:!0}),null,16)};var Ye=Y("vue-rectangle-stencil"),It={name:"RectangleStencil",components:{StencilPreview:Ht,BoundingBox:jt,DraggableArea:Bt},props:{image:{type:Object},coordinates:{type:Object},stencilCoordinates:{type:Object},handlers:{type:Object},handlersComponent:{type:[Object,String],default:function(){return Ke}},lines:{type:Object},linesComponent:{type:[Object,String],default:function(){return et}},aspectRatio:{type:[Number,String]},minAspectRatio:{type:[Number,String]},maxAspectRatio:{type:[Number,String]},movable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},transitions:{type:Object},movingClass:{type:String},resizingClass:{type:String},previewClass:{type:String},boundingBoxClass:{type:String},linesClasses:{type:Object,default:function(){return{}}},linesWrappersClasses:{type:Object,default:function(){return{}}},handlersClasses:{type:Object,default:function(){return{}}},handlersWrappersClasses:{type:Object,default:function(){return{}}}},data:function(){return{moving:!1,resizing:!1}},computed:{classes:function(){return{stencil:T(Ye({movable:this.movable,moving:this.moving,resizing:this.resizing}),this.moving&&this.movingClass,this.resizing&&this.resizingClass),preview:T(Ye("preview"),this.previewClass),boundingBox:T(Ye("bounding-box"),this.boundingBoxClass)}},style:function(){var e=this.stencilCoordinates,t=e.height,i=e.width,n=e.left,o=e.top,s={width:"".concat(i,"px"),height:"".concat(t,"px"),transform:"translate(".concat(n,"px, ").concat(o,"px)")};return this.transitions&&this.transitions.enabled&&(s.transition="".concat(this.transitions.time,"ms ").concat(this.transitions.timingFunction)),s}},methods:{onMove:function(e){this.$emit("move",e),this.moving=!0},onMoveEnd:function(){this.$emit("move-end"),this.moving=!1},onResize:function(e){this.$emit("resize",e),this.resizing=!0},onResizeEnd:function(){this.$emit("resize-end"),this.resizing=!1},aspectRatios:function(){return{minimum:this.aspectRatio||this.minAspectRatio,maximum:this.aspectRatio||this.maxAspectRatio}}},emits:["resize","resize-end","move","move-end"]};It.render=function(e,t,i,n,o,s){var r=te("stencil-preview"),l=te("draggable-area"),a=te("bounding-box");return z(),S("div",{class:s.classes.stencil,style:s.style},[f(a,{width:i.stencilCoordinates.width,height:i.stencilCoordinates.height,transitions:i.transitions,class:s.classes.boundingBox,handlers:i.handlers,"handlers-component":i.handlersComponent,"handlers-classes":i.handlersClasses,"handlers-wrappers-classes":i.handlersWrappersClasses,lines:i.lines,"lines-component":i.linesComponent,"lines-classes":i.linesClasses,"lines-wrappers-classes":i.linesWrappersClasses,resizable:i.resizable,onResize:s.onResize,onResizeEnd:s.onResizeEnd},{default:w(function(){return[f(l,{movable:i.movable,onMove:s.onMove,onMoveEnd:s.onMoveEnd},{default:w(function(){return[f(r,{image:i.image,coordinates:i.coordinates,width:i.stencilCoordinates.width,height:i.stencilCoordinates.height,class:s.classes.preview,transitions:i.transitions},null,8,["image","coordinates","width","height","class","transitions"])]}),_:1},8,["movable","onMove","onMoveEnd"])]}),_:1},8,["width","height","transitions","class","handlers","handlers-component","handlers-classes","handlers-wrappers-classes","lines","lines-component","lines-classes","lines-wrappers-classes","resizable","onResize","onResizeEnd"])],6)};var Hs=["transitions"],K=Y("vue-advanced-cropper"),Ut={name:"Cropper",components:{BackgroundWrapper:Ge},props:{src:{type:String,default:null},stencilComponent:{type:[Object,String],default:function(){return It}},backgroundWrapperComponent:{type:[Object,String],default:function(){return Ge}},stencilProps:{type:Object,default:function(){return{}}},autoZoom:{type:Boolean,default:!1},imageClass:{type:String},boundariesClass:{type:String},backgroundClass:{type:String},foregroundClass:{type:String},minWidth:{type:[Number,String]},minHeight:{type:[Number,String]},maxWidth:{type:[Number,String]},maxHeight:{type:[Number,String]},debounce:{type:[Boolean,Number],default:500},transitions:{type:Boolean,default:!0},checkOrientation:{type:Boolean,default:!0},canvas:{type:[Object,Boolean],default:!0},crossOrigin:{type:[Boolean,String],default:void 0},transitionTime:{type:Number,default:300},imageRestriction:{type:String,default:"fit-area",validator:function(e){return bs.indexOf(e)!==-1}},roundResult:{type:Boolean,default:!0},defaultSize:{type:[Function,Object]},defaultPosition:{type:[Function,Object]},defaultVisibleArea:{type:[Function,Object]},defaultTransforms:{type:[Function,Object]},defaultBoundaries:{type:[Function,String],validator:function(e){return!(typeof e=="string"&&e!=="fill"&&e!=="fit")}},priority:{type:String,default:"coordinates"},stencilSize:{type:[Object,Function]},resizeImage:{type:[Boolean,Object],default:!0},moveImage:{type:[Boolean,Object],default:!0},autoZoomAlgorithm:{type:Function},resizeAlgorithm:{type:Function,default:function(e){var t=e.event,i=e.coordinates,n=e.aspectRatio,o=e.positionRestrictions,s=e.sizeRestrictions,r=y(y({},i),{right:i.left+i.width,bottom:i.top+i.height}),l=t.params||{},a=y({},t.directions),u=l.allowedDirections||{left:!0,right:!0,bottom:!0,top:!0};s.widthFrozen&&(a.left=0,a.right=0),s.heightFrozen&&(a.top=0,a.bottom=0),q.forEach(function(J){u[J]||(a[J]=0)});var d=Z(r,a=_t({coordinates:r,directions:a,sizeRestrictions:s,positionRestrictions:o})).width,p=Z(r,a).height,m=l.preserveRatio?R(r):Ie(d/p,n);if(m){var v=l.respectDirection;if(v||(v=r.width>=r.height||m===1?"width":"height"),v==="width"){var A=d/m-r.height;if(u.top&&u.bottom){var _=a.top,W=a.bottom;a.bottom=Re(A,W,_),a.top=Re(A,_,W)}else u.bottom?a.bottom=A:u.top?a.top=A:u.right?a.right=0:u.left&&(a.left=0)}else if(v==="height"){var D=r.width-p*m;if(u.left&&u.right){var Q=a.left,ie=a.right;a.left=-Re(D,Q,ie),a.right=-Re(D,ie,Q)}else u.left?a.left=-D:u.right?a.right=-D:u.top?a.top=0:u.bottom&&(a.bottom=0)}a=_t({directions:a,coordinates:r,sizeRestrictions:s,positionRestrictions:o,preserveRatio:!0,compensate:l.compensate})}return d=Z(r,a).width,p=Z(r,a).height,(m=l.preserveRatio?R(r):Ie(d/p,n))&&Math.abs(m-d/p)>.001&&q.forEach(function(J){u[J]||(a[J]=0)}),qe({event:new Qe({left:-a.left,top:-a.top}),coordinates:{width:i.width+a.right+a.left,height:i.height+a.top+a.bottom,left:i.left,top:i.top},positionRestrictions:o})}},moveAlgorithm:{type:Function,default:qe},initStretcher:{type:Function,default:function(e){var t=e.stretcher,i=e.imageSize,n=R(i);t.style.width=i.width+"px",t.style.height=t.clientWidth/n+"px",t.style.width=t.clientWidth+"px"}},fitCoordinates:{type:Function,default:function(e){var t=e.visibleArea,i=e.coordinates,n=e.aspectRatio,o=e.sizeRestrictions,s=e.positionRestrictions,r=y(y({},i),ee({width:i.width,height:i.height,aspectRatio:n,sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minHeight:Math.min(t.height,o.minHeight),minWidth:Math.min(t.width,o.minWidth)}}));return r=$(r=I(r,de(P(i),P(r))),Te(G(t),s))}},fitVisibleArea:{type:Function,default:function(e){var t=e.visibleArea,i=e.boundaries,n=e.getAreaRestrictions,o=e.coordinates,s=y({},t);s.height=s.width/R(i),s.top+=(t.height-s.height)/2,(o.height-s.height>0||o.width-s.width>0)&&(s=V(s,Math.max(o.height/s.height,o.width/s.width)));var r=Ee(me(o,G(s=V(s,We(s,n({visibleArea:s,type:"resize"}))))));return s.width<o.width&&(r.left=0),s.height<o.height&&(r.top=0),s=$(s=I(s,r),n({visibleArea:s,type:"move"}))}},areaRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.visibleArea,i=e.boundaries,n=e.imageSize,o=e.imageRestriction,s=e.type,r={};return o==="fill-area"?r={left:0,top:0,right:n.width,bottom:n.height}:o==="fit-area"&&(R(i)>R(n)?(r={top:0,bottom:n.height},t&&s==="move"&&(t.width>n.width?(r.left=-(t.width-n.width)/2,r.right=n.width-r.left):(r.left=0,r.right=n.width))):(r={left:0,right:n.width},t&&s==="move"&&(t.height>n.height?(r.top=-(t.height-n.height)/2,r.bottom=n.height-r.top):(r.top=0,r.bottom=n.height)))),r}},sizeRestrictionsAlgorithm:{type:Function,default:function(e){return{minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight}}},positionRestrictionsAlgorithm:{type:Function,default:function(e){var t=e.imageSize,i={};return e.imageRestriction!=="none"&&(i={left:0,top:0,right:t.width,bottom:t.height}),i}}},data:function(){return{transitionsActive:!1,imageLoaded:!1,imageAttributes:{width:null,height:null,crossOrigin:null,src:null},defaultImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},appliedImageTransforms:{rotate:0,flip:{horizontal:!1,vertical:!1}},boundaries:{width:0,height:0},visibleArea:null,coordinates:x({},vt)}},computed:{image:function(){return{src:this.imageAttributes.src,width:this.imageAttributes.width,height:this.imageAttributes.height,transforms:this.imageTransforms}},imageTransforms:function(){return{rotate:this.appliedImageTransforms.rotate,flip:{horizontal:this.appliedImageTransforms.flip.horizontal,vertical:this.appliedImageTransforms.flip.vertical},translateX:this.visibleArea?this.visibleArea.left/this.coefficient:0,translateY:this.visibleArea?this.visibleArea.top/this.coefficient:0,scaleX:1/this.coefficient,scaleY:1/this.coefficient}},imageSize:function(){var e=function(t){return t*Math.PI/180}(this.imageTransforms.rotate);return{width:Math.abs(this.imageAttributes.width*Math.cos(e))+Math.abs(this.imageAttributes.height*Math.sin(e)),height:Math.abs(this.imageAttributes.width*Math.sin(e))+Math.abs(this.imageAttributes.height*Math.cos(e))}},initialized:function(){return!!(this.visibleArea&&this.imageLoaded)},settings:function(){var e=Xe(this.resizeImage,{touch:!0,wheel:{ratio:.1},adjustStencil:!0},{touch:!1,wheel:!1,adjustStencil:!1});return{moveImage:Xe(this.moveImage,{touch:!0,mouse:!0},{touch:!1,mouse:!1}),resizeImage:e}},coefficient:function(){return this.visibleArea?this.visibleArea.width/this.boundaries.width:0},areaRestrictions:function(){return this.imageLoaded?this.areaRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction,boundaries:this.boundaries}):{}},transitionsOptions:function(){return{enabled:this.transitionsActive,timingFunction:"ease-in-out",time:350}},sizeRestrictions:function(){if(this.boundaries.width&&this.boundaries.height&&this.imageSize.width&&this.imageSize.height){var e=this.sizeRestrictionsAlgorithm({imageSize:this.imageSize,minWidth:B(this.minWidth)?0:Ae(this.minWidth),minHeight:B(this.minHeight)?0:Ae(this.minHeight),maxWidth:B(this.maxWidth)?1/0:Ae(this.maxWidth),maxHeight:B(this.maxHeight)?1/0:Ae(this.maxHeight)});if(e=function(n){var o=n.areaRestrictions,s=n.sizeRestrictions,r=n.boundaries,l=n.positionRestrictions,a=y(y({},s),{minWidth:s.minWidth!==void 0?s.minWidth:0,minHeight:s.minHeight!==void 0?s.minHeight:0,maxWidth:s.maxWidth!==void 0?s.maxWidth:1/0,maxHeight:s.maxHeight!==void 0?s.maxHeight:1/0});l.left!==void 0&&l.right!==void 0&&(a.maxWidth=Math.min(a.maxWidth,l.right-l.left)),l.bottom!==void 0&&l.top!==void 0&&(a.maxHeight=Math.min(a.maxHeight,l.bottom-l.top));var u=Ze(o),d=Tt(r,u);return u.width<1/0&&(!a.maxWidth||a.maxWidth>d.width)&&(a.maxWidth=Math.min(a.maxWidth,d.width)),u.height<1/0&&(!a.maxHeight||a.maxHeight>d.height)&&(a.maxHeight=Math.min(a.maxHeight,d.height)),a.minWidth>a.maxWidth&&(a.minWidth=a.maxWidth,a.widthFrozen=!0),a.minHeight>a.maxHeight&&(a.minHeight=a.maxHeight,a.heightFrozen=!0),a}({sizeRestrictions:e,areaRestrictions:this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}),imageSize:this.imageSize,boundaries:this.boundaries,positionRestrictions:this.positionRestrictions,imageRestriction:this.imageRestriction,visibleArea:this.visibleArea,stencilSize:this.getStencilSize()}),this.visibleArea&&this.stencilSize){var t=this.getStencilSize(),i=Ze(this.getAreaRestrictions({visibleArea:this.visibleArea,type:"resize"}));e.maxWidth=Math.min(e.maxWidth,i.width*t.width/this.boundaries.width),e.maxHeight=Math.min(e.maxHeight,i.height*t.height/this.boundaries.height),e.maxWidth<e.minWidth&&(e.minWidth=e.maxWidth),e.maxHeight<e.minHeight&&(e.minHeight=e.maxHeight)}return e}return{minWidth:0,minHeight:0,maxWidth:0,maxHeight:0}},positionRestrictions:function(){return this.positionRestrictionsAlgorithm({imageSize:this.imageSize,imageRestriction:this.imageRestriction})},classes:function(){return{cropper:K(),image:T(K("image"),this.imageClass),stencil:K("stencil"),boundaries:T(K("boundaries"),this.boundariesClass),stretcher:T(K("stretcher")),background:T(K("background"),this.backgroundClass),foreground:T(K("foreground"),this.foregroundClass),imageWrapper:T(K("image-wrapper")),cropperWrapper:T(K("cropper-wrapper"))}},stencilCoordinates:function(){if(this.initialized){var e=this.coordinates,t=e.width,i=e.height,n=e.left,o=e.top;return{width:t/this.coefficient,height:i/this.coefficient,left:(n-this.visibleArea.left)/this.coefficient,top:(o-this.visibleArea.top)/this.coefficient}}return this.defaultCoordinates()},boundariesStyle:function(){var e={width:this.boundaries.width?"".concat(Math.round(this.boundaries.width),"px"):"auto",height:this.boundaries.height?"".concat(Math.round(this.boundaries.height),"px"):"auto",transition:"opacity ".concat(this.transitionTime,"ms"),pointerEvents:this.imageLoaded?"all":"none"};return this.imageLoaded||(e.opacity="0"),e},imageStyle:function(){var e=this.imageAttributes.width>this.imageAttributes.height?{width:Math.min(1024,this.imageAttributes.width),height:Math.min(1024,this.imageAttributes.width)/(this.imageAttributes.width/this.imageAttributes.height)}:{height:Math.min(1024,this.imageAttributes.height),width:Math.min(1024,this.imageAttributes.height)*(this.imageAttributes.width/this.imageAttributes.height)},t={left:(e.width-this.imageSize.width)/(2*this.coefficient),top:(e.height-this.imageSize.height)/(2*this.coefficient)},i={left:(1-1/this.coefficient)*e.width/2,top:(1-1/this.coefficient)*e.height/2},n=x(x({},this.imageTransforms),{},{scaleX:this.imageTransforms.scaleX*(this.imageAttributes.width/e.width),scaleY:this.imageTransforms.scaleY*(this.imageAttributes.height/e.height)}),o={width:"".concat(e.width,"px"),height:"".concat(e.height,"px"),left:"0px",top:"0px",transform:"translate(".concat(-t.left-i.left-this.imageTransforms.translateX,"px, ").concat(-t.top-i.top-this.imageTransforms.translateY,"px)")+Pt(n)};return this.transitionsOptions.enabled&&(o.transition="".concat(this.transitionsOptions.time,"ms ").concat(this.transitionsOptions.timingFunction)),o}},watch:{src:function(){this.onChangeImage()},stencilComponent:function(){var e=this;this.$nextTick(function(){e.resetCoordinates(),e.runAutoZoom("setCoordinates"),e.onChange()})},minWidth:function(){this.onPropsChange()},maxWidth:function(){this.onPropsChange()},minHeight:function(){this.onPropsChange()},maxHeight:function(){this.onPropsChange()},imageRestriction:function(){this.reset()},stencilProps:function(e,t){["aspectRatio","minAspectRatio","maxAspectRatio"].find(function(i){return e[i]!==t[i]})&&this.$nextTick(this.onPropsChange)}},created:function(){this.debouncedUpdate=Ne(this.update,this.debounce),this.debouncedDisableTransitions=Ne(this.disableTransitions,this.transitionsOptions.time),this.awaiting=!1},mounted:function(){this.$refs.image.addEventListener("load",this.onSuccessLoadImage),this.$refs.image.addEventListener("error",this.onFailLoadImage),this.onChangeImage(),window.addEventListener("resize",this.refresh),window.addEventListener("orientationchange",this.refresh)},unmounted:function(){window.removeEventListener("resize",this.refresh),window.removeEventListener("orientationchange",this.refresh),this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.debouncedUpdate.clear(),this.debouncedDisableTransitions.clear()},methods:{getResult:function(){var e=this.initialized?this.prepareResult(x({},this.coordinates)):this.defaultCoordinates(),t={rotate:this.imageTransforms.rotate%360,flip:x({},this.imageTransforms.flip)};if(this.src&&this.imageLoaded){var i=this;return{image:this.image,coordinates:e,visibleArea:this.visibleArea?x({},this.visibleArea):null,imageTransforms:t,get canvas(){return i.canvas?i.getCanvas():void 0}}}return{image:this.image,coordinates:e,visibleArea:this.visibleArea?x({},this.visibleArea):null,canvas:void 0,imageTransforms:t}},zoom:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.transitions,o=n===void 0||n;this.onManipulateImage(new ve({},{factor:1/e,center:t}),{normalize:!1,transitions:o})},move:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.transitions,o=n===void 0||n;this.onManipulateImage(new ve({left:e||0,top:t||0}),{normalize:!1,transitions:o})},setCoordinates:function(e){var t=this,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=i.autoZoom,o=n===void 0||n,s=i.transitions,r=s===void 0||s;this.$nextTick(function(){t.imageLoaded?(t.transitionsActive||(r&&t.enableTransitions(),t.coordinates=t.applyTransform(e),o&&t.runAutoZoom("setCoordinates"),r&&t.debouncedDisableTransitions()),t.onChange()):t.delayedTransforms=e})},refresh:function(){var e=this,t=this.$refs.image;if(this.src&&t)return this.initialized?this.updateVisibleArea().then(function(){e.onChange()}):this.resetVisibleArea().then(function(){e.onChange()})},reset:function(){var e=this;return this.resetVisibleArea().then(function(){e.onChange(!1)})},awaitRender:function(e){var t=this;this.awaiting||(this.awaiting=!0,this.$nextTick(function(){e(),t.awaiting=!1}))},prepareResult:function(e){return this.roundResult?function(t){var i=t.coordinates,n=t.sizeRestrictions,o=t.positionRestrictions,s={width:Math.round(i.width),height:Math.round(i.height),left:Math.round(i.left),top:Math.round(i.top)};return s.width>n.maxWidth?s.width=Math.floor(i.width):s.width<n.minWidth&&(s.width=Math.ceil(i.width)),s.height>n.maxHeight?s.height=Math.floor(i.height):s.height<n.minHeight&&(s.height=Math.ceil(i.height)),$(s,o)}(x(x({},this.getPublicProperties()),{},{positionRestrictions:xe(this.positionRestrictions,this.visibleArea),coordinates:e})):e},processAutoZoom:function(e,t,i,n){var o=this.autoZoomAlgorithm;o||(o=this.stencilSize?_s:this.autoZoom?zs:Cs);var s=o({event:{type:e,params:n},visibleArea:t,coordinates:i,boundaries:this.boundaries,aspectRatio:this.getAspectRatio(),positionRestrictions:this.positionRestrictions,getAreaRestrictions:this.getAreaRestrictions,sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize()});return x(x({},s),{},{changed:!bt(s.visibleArea,t)||!bt(s.coordinates,i)})},runAutoZoom:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.transitions,n=i!==void 0&&i,o=cs(t,Hs),s=this.processAutoZoom(e,this.visibleArea,this.coordinates,o),r=s.visibleArea,l=s.coordinates,a=s.changed;n&&a&&this.enableTransitions(),this.visibleArea=r,this.coordinates=l,n&&a&&this.debouncedDisableTransitions()},normalizeEvent:function(e){return function(t){var i=t.event,n=t.visibleArea,o=t.coefficient;if(i.type==="manipulateImage")return y(y({},i),{move:{left:i.move&&i.move.left?o*i.move.left:0,top:i.move&&i.move.top?o*i.move.top:0},scale:{factor:i.scale&&i.scale.factor?i.scale.factor:1,center:i.scale&&i.scale.center?{left:i.scale.center.left*o+n.left,top:i.scale.center.top*o+n.top}:null}});if(i.type==="resize"){var s=y(y({},i),{directions:y({},i.directions)});return q.forEach(function(l){s.directions[l]*=o}),s}if(i.type==="move"){var r=y(y({},i),{directions:y({},i.directions)});return vs.forEach(function(l){r.directions[l]*=o}),r}return i}(x(x({},this.getPublicProperties()),{},{event:e}))},getCanvas:function(){if(this.$refs.canvas){var e=this.$refs.canvas,t=this.$refs.image,i=this.imageTransforms.rotate!==0||this.imageTransforms.flip.horizontal||this.imageTransforms.flip.vertical?function(l,a,u){var d=u.rotate,p=u.flip,m={width:a.naturalWidth,height:a.naturalHeight},v=Dt(m,d),A=l.getContext("2d");l.height=v.height,l.width=v.width,A.save();var _=se(P(y({left:0,top:0},m)),d);return A.translate(-(_.left-v.width/2),-(_.top-v.height/2)),A.rotate(d*Math.PI/180),A.translate(p.horizontal?m.width:0,p.vertical?m.height:0),A.scale(p.horizontal?-1:1,p.vertical?-1:1),A.drawImage(a,0,0,m.width,m.height),A.restore(),l}(this.$refs.sourceCanvas,t,this.imageTransforms):t,n=x({minWidth:0,minHeight:0,maxWidth:1/0,maxHeight:1/0,maxArea:this.maxCanvasSize,imageSmoothingEnabled:!0,imageSmoothingQuality:"high",fillColor:"transparent"},this.canvas),o=function(l){return l.find(function(a){return u=a,!Number.isNaN(parseFloat(u))&&isFinite(u);var u})},s=ee({sizeRestrictions:{minWidth:o([n.width,n.minWidth])||0,minHeight:o([n.height,n.minHeight])||0,maxWidth:o([n.width,n.maxWidth])||1/0,maxHeight:o([n.height,n.maxHeight])||1/0},width:this.coordinates.width,height:this.coordinates.height,aspectRatio:{minimum:this.coordinates.width/this.coordinates.height,maximum:this.coordinates.width/this.coordinates.height}});if(n.maxArea&&s.width*s.height>n.maxArea){var r=Math.sqrt(n.maxArea/(s.width*s.height));s={width:Math.round(r*s.width),height:Math.round(r*s.height)}}return function(l,a,u,d,p){l.width=d?d.width:u.width,l.height=d?d.height:u.height;var m=l.getContext("2d");m.clearRect(0,0,l.width,l.height),p&&(p.imageSmoothingEnabled&&(m.imageSmoothingEnabled=p.imageSmoothingEnabled),p.imageSmoothingQuality&&(m.imageSmoothingQuality=p.imageSmoothingQuality),p.fillColor&&(m.fillStyle=p.fillColor,m.fillRect(0,0,l.width,l.height),m.save()));var v=u.left<0?-u.left:0,A=u.top<0?-u.top:0;m.drawImage(a,u.left+v,u.top+A,u.width,u.height,v*(l.width/u.width),A*(l.height/u.height),l.width,l.height)}(e,i,this.coordinates,s,n),e}},update:function(){this.$emit("change",this.getResult())},applyTransform:function(e){var t=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.visibleArea&&t?ws(this.sizeRestrictions,this.visibleArea):this.sizeRestrictions,n=this.visibleArea&&t?xe(this.positionRestrictions,this.visibleArea):this.positionRestrictions;return ys({transform:e,coordinates:this.coordinates,imageSize:this.imageSize,sizeRestrictions:i,positionRestrictions:n,aspectRatio:this.getAspectRatio(),visibleArea:this.visibleArea})},resetCoordinates:function(){var e=this;if(this.$refs.image){this.$refs.cropper,this.$refs.image;var t=this.defaultSize;t||(t=this.stencilSize?Rs:xs);var i=this.sizeRestrictions;i.minWidth,i.minHeight,i.maxWidth,i.maxHeight;var n=ce(t)?t({boundaries:this.boundaries,imageSize:this.imageSize,aspectRatio:this.getAspectRatio(),sizeRestrictions:this.sizeRestrictions,stencilSize:this.getStencilSize(),visibleArea:this.visibleArea}):t,o=this.defaultPosition||As,s=[n,function(r){var l=r.coordinates;return x({},ce(o)?o({coordinates:l,imageSize:e.imageSize,visibleArea:e.visibleArea}):e.defaultPosition)}];this.delayedTransforms&&s.push.apply(s,oe(Array.isArray(this.delayedTransforms)?this.delayedTransforms:[this.delayedTransforms])),this.coordinates=this.applyTransform(s,!0),this.delayedTransforms=null}},clearImage:function(){var e=this;this.imageLoaded=!1,setTimeout(function(){var t=e.$refs.stretcher;t&&(t.style.height="auto",t.style.width="auto"),e.coordinates=e.defaultCoordinates(),e.boundaries={width:0,height:0}},this.transitionTime)},enableTransitions:function(){this.transitions&&(this.transitionsActive=!0)},disableTransitions:function(){this.transitionsActive=!1},updateBoundaries:function(){var e=this,t=this.$refs.stretcher,i=this.$refs.cropper;return this.initStretcher({cropper:i,stretcher:t,imageSize:this.imageSize}),this.$nextTick().then(function(){var n={cropper:i,imageSize:e.imageSize};if(ce(e.defaultBoundaries)?e.boundaries=e.defaultBoundaries(n):e.defaultBoundaries==="fit"?e.boundaries=function(o){var s=o.cropper,r=o.imageSize,l=s.clientHeight,a=s.clientWidth,u=l,d=r.width*l/r.height;return d>a&&(d=a,u=r.height*a/r.width),{width:d,height:u}}(n):e.boundaries=function(o){var s=o.cropper;return{width:s.clientWidth,height:s.clientHeight}}(n),!e.boundaries.width||!e.boundaries.height)throw new Error("It's impossible to fit the cropper in the current container")})},resetVisibleArea:function(){var e=this;return this.appliedImageTransforms=x(x({},this.defaultImageTransforms),{},{flip:x({},this.defaultImageTransforms.flip)}),this.updateBoundaries().then(function(){e.priority!=="visible-area"&&(e.visibleArea=null,e.resetCoordinates());var t,i,n,o,s,r,l=e.defaultVisibleArea||ks;e.visibleArea=ce(l)?l({imageSize:e.imageSize,boundaries:e.boundaries,coordinates:e.priority!=="visible-area"?e.coordinates:null,getAreaRestrictions:e.getAreaRestrictions,stencilSize:e.getStencilSize()}):e.defaultVisibleArea,e.visibleArea=(t={visibleArea:e.visibleArea,boundaries:e.boundaries,getAreaRestrictions:e.getAreaRestrictions},i=t.visibleArea,n=t.boundaries,o=t.getAreaRestrictions,s=y({},i),r=R(n),s.width/s.height!==r&&(s.height=s.width/r),$(s,o({visibleArea:s,type:"move"}))),e.priority==="visible-area"?e.resetCoordinates():e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("resetVisibleArea")}).catch(function(){e.visibleArea=null})},updateVisibleArea:function(){var e=this;return this.updateBoundaries().then(function(){e.visibleArea=e.fitVisibleArea({imageSize:e.imageSize,boundaries:e.boundaries,visibleArea:e.visibleArea,coordinates:e.coordinates,getAreaRestrictions:e.getAreaRestrictions}),e.coordinates=e.fitCoordinates({visibleArea:e.visibleArea,coordinates:e.coordinates,aspectRatio:e.getAspectRatio(),positionRestrictions:e.positionRestrictions,sizeRestrictions:e.sizeRestrictions}),e.runAutoZoom("updateVisibleArea")}).catch(function(){e.visibleArea=null})},onChange:function(){var e=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];e&&this.debounce?this.debouncedUpdate():this.update()},onChangeImage:function(){var e,t=this;if(this.imageLoaded=!1,this.delayedTransforms=null,this.src){if(function(o){if(ft(o))return!1;var s=window.location,r=/(\w+:)?(?:\/\/)([\w.-]+)?(?::(\d+))?\/?/.exec(o)||[],l={protocol:r[1]||"",host:r[2]||"",port:r[3]||""},a=function(u){return u.port||((u.protocol||s.protocol)==="http"?80:433)};return!(!l.protocol&&!l.host&&!l.port||l.protocol&&l.protocol==s.protocol&&l.host&&l.host==s.host&&l.host&&a(l)==a(s))}(this.src)){var i=B(this.crossOrigin)?this.canvas:this.crossOrigin;i===!0&&(i="anonymous"),this.imageAttributes.crossOrigin=i||null}if(this.checkOrientation){var n=(e=this.src,new Promise(function(o){$s(e).then(function(s){var r=Os(s);o(s?{source:e,arrayBuffer:s,orientation:r}:{source:e,arrayBuffer:null,orientation:null})}).catch(function(s){console.warn(s),o({source:e,arrayBuffer:null,orientation:null})})}));setTimeout(function(){n.then(t.onParseImage)},this.transitionTime)}else setTimeout(function(){t.onParseImage({source:t.src})},this.transitionTime)}else this.clearImage()},onFailLoadImage:function(){this.imageAttributes.src&&(this.clearImage(),this.$emit("error"))},onSuccessLoadImage:function(){var e=this,t=this.$refs.image;t&&!this.imageLoaded&&(this.imageAttributes.height=t.naturalHeight,this.imageAttributes.width=t.naturalWidth,this.imageLoaded=!0,this.resetVisibleArea().then(function(){e.$emit("ready"),e.onChange(!1)}))},onParseImage:function(e){var t=this,i=e.source,n=e.arrayBuffer,o=e.orientation;this.imageAttributes.revoke&&this.imageAttributes.src&&URL.revokeObjectURL(this.imageAttributes.src),this.imageAttributes.revoke=!1,n&&o&&o>1?kt(i)||!ft(i)?(this.imageAttributes.src=URL.createObjectURL(new Blob([n])),this.imageAttributes.revoke=!0):this.imageAttributes.src=function(s){for(var r=[],l=new Uint8Array(s);l.length>0;){var a=l.subarray(0,8192);r.push(String.fromCharCode.apply(null,Array.from?Array.from(a):a.slice())),l=l.subarray(8192)}return"data:image/jpeg;base64,"+btoa(r.join(""))}(n):this.imageAttributes.src=i,ce(this.defaultTransforms)?this.appliedImageTransforms=Ve(this.defaultTransforms()):Me(this.defaultTransforms)?this.appliedImageTransforms=Ve(this.defaultTransforms):this.appliedImageTransforms=function(s){var r=Ve({});if(s)switch(s){case 2:r.flip.horizontal=!0;break;case 3:r.rotate=-180;break;case 4:r.flip.vertical=!0;break;case 5:r.rotate=90,r.flip.vertical=!0;break;case 6:r.rotate=90;break;case 7:r.rotate=90,r.flip.horizontal=!0;break;case 8:r.rotate=-90}return r}(o),this.defaultImageTransforms=x(x({},this.appliedImageTransforms),{},{flip:x({},this.appliedImageTransforms.flip)}),this.$nextTick(function(){var s=t.$refs.image;s&&s.complete&&(function(r){return!!r.naturalWidth}(s)?t.onSuccessLoadImage():t.onFailLoadImage())})},onResizeEnd:function(){this.runAutoZoom("resize",{transitions:!0})},onMoveEnd:function(){this.runAutoZoom("move",{transitions:!0})},onMove:function(e){var t=this;this.transitionsOptions.enabled||this.awaitRender(function(){t.coordinates=t.moveAlgorithm(x(x({},t.getPublicProperties()),{},{positionRestrictions:xe(t.positionRestrictions,t.visibleArea),coordinates:t.coordinates,event:t.normalizeEvent(e)})),t.onChange()})},onResize:function(e){var t=this;this.transitionsOptions.enabled||this.stencilSize&&!this.autoZoom||this.awaitRender(function(){var i=t.sizeRestrictions,n=Math.min(t.coordinates.width,t.coordinates.height,20*t.coefficient);t.coordinates=t.resizeAlgorithm(x(x({},t.getPublicProperties()),{},{positionRestrictions:xe(t.positionRestrictions,t.visibleArea),sizeRestrictions:{maxWidth:Math.min(i.maxWidth,t.visibleArea.width),maxHeight:Math.min(i.maxHeight,t.visibleArea.height),minWidth:Math.max(i.minWidth,n),minHeight:Math.max(i.minHeight,n)},event:t.normalizeEvent(e)})),t.onChange(),t.ticking=!1})},onManipulateImage:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.transitionsOptions.enabled){var i=t.transitions,n=i!==void 0&&i,o=t.normalize,s=o===void 0||o;n&&this.enableTransitions();var r=Ms(x(x({},this.getPublicProperties()),{},{event:s?this.normalizeEvent(e):e,getAreaRestrictions:this.getAreaRestrictions,imageRestriction:this.imageRestriction,adjustStencil:!this.stencilSize&&this.settings.resizeImage.adjustStencil})),l=r.visibleArea,a=r.coordinates;this.visibleArea=l,this.coordinates=a,this.runAutoZoom("manipulateImage"),this.onChange(),n&&this.debouncedDisableTransitions()}},onPropsChange:function(){this.coordinates=this.applyTransform(this.coordinates,!0),this.onChange(!1)},getAreaRestrictions:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=e.visibleArea,i=e.type,n=i===void 0?"move":i;return this.areaRestrictionsAlgorithm({boundaries:this.boundaries,imageSize:this.imageSize,imageRestriction:this.imageRestriction,visibleArea:t,type:n})},getAspectRatio:function(e){var t,i,n=this.stencilProps,o=n.aspectRatio,s=n.minAspectRatio,r=n.maxAspectRatio;if(this.$refs.stencil&&this.$refs.stencil.aspectRatios){var l=this.$refs.stencil.aspectRatios();t=l.minimum,i=l.maximum}if(B(t)&&(t=B(o)?s:o),B(i)&&(i=B(o)?r:o),!e&&(B(t)||B(i))){var a=this.getStencilSize(),u=a?R(a):null;B(t)&&(t=gt(u)?u:void 0),B(i)&&(i=gt(u)?u:void 0)}return{minimum:t,maximum:i}},getStencilSize:function(){if(this.stencilSize)return e={currentStencilSize:{width:this.stencilCoordinates.width,height:this.stencilCoordinates.height},stencilSize:this.stencilSize,boundaries:this.boundaries,coefficient:this.coefficient,coordinates:this.coordinates,aspectRatio:this.getAspectRatio(!0)},t=e.boundaries,i=e.stencilSize,n=e.aspectRatio,Ie(R(o=ce(i)?i({boundaries:t,aspectRatio:n}):i),n)&&(o=ee({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:o.width,height:o.height,aspectRatio:{minimum:n.minimum,maximum:n.maximum}})),(o.width>t.width||o.height>t.height)&&(o=ee({sizeRestrictions:{maxWidth:t.width,maxHeight:t.height,minWidth:0,minHeight:0},width:o.width,height:o.height,aspectRatio:{minimum:R(o),maximum:R(o)}})),o;var e,t,i,n,o},getPublicProperties:function(){return{coefficient:this.coefficient,visibleArea:this.visibleArea,coordinates:this.coordinates,boundaries:this.boundaries,sizeRestrictions:this.sizeRestrictions,positionRestrictions:this.positionRestrictions,aspectRatio:this.getAspectRatio(),imageRestriction:this.imageRestriction}},defaultCoordinates:function(){return x({},vt)},flip:function(e,t){var i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=i.transitions,o=n===void 0||n;if(!this.transitionsActive){o&&this.enableTransitions();var s=x({},this.imageTransforms.flip),r=Es({flip:{horizontal:e?!s.horizontal:s.horizontal,vertical:t?!s.vertical:s.vertical},previousFlip:s,rotate:this.imageTransforms.rotate,visibleArea:this.visibleArea,coordinates:this.coordinates,imageSize:this.imageSize,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),l=r.visibleArea,a=r.coordinates;e&&(this.appliedImageTransforms.flip.horizontal=!this.appliedImageTransforms.flip.horizontal),t&&(this.appliedImageTransforms.flip.vertical=!this.appliedImageTransforms.flip.vertical),this.visibleArea=l,this.coordinates=a,this.onChange(),o&&this.debouncedDisableTransitions()}},rotate:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=t.transitions,n=i===void 0||i;if(!this.transitionsActive){n&&this.enableTransitions();var o=x({},this.imageSize);this.appliedImageTransforms.rotate+=e;var s=Ss({visibleArea:this.visibleArea,coordinates:this.coordinates,previousImageSize:o,imageSize:this.imageSize,angle:e,positionRestrictions:this.positionRestrictions,sizeRestrictions:this.sizeRestrictions,getAreaRestrictions:this.getAreaRestrictions,aspectRatio:this.getAspectRatio()}),r=s.visibleArea,l=s.coordinates,a=this.processAutoZoom("rotateImage",r,l);r=a.visibleArea,l=a.coordinates,this.visibleArea=r,this.coordinates=l,this.onChange(),n&&this.debouncedDisableTransitions()}}},emits:["change","error","ready"]},Is={key:0,ref:"canvas",style:{display:"none"}},Us={key:1,ref:"sourceCanvas",style:{display:"none"}};Ut.render=function(e,t,i,n,o,s){return z(),S("div",{ref:"cropper",class:s.classes.cropper},[f("div",{ref:"stretcher",class:s.classes.stretcher},null,2),f("div",{class:s.classes.boundaries,style:s.boundariesStyle},[(z(),S(Se(i.backgroundWrapperComponent),{class:s.classes.cropperWrapper,"wheel-resize":s.settings.resizeImage.wheel,"touch-resize":s.settings.resizeImage.touch,"touch-move":s.settings.moveImage.touch,"mouse-move":s.settings.moveImage.mouse,onMove:s.onManipulateImage,onResize:s.onManipulateImage},{default:w(function(){return[f("div",{class:s.classes.background,style:s.boundariesStyle},null,6),f("div",{class:s.classes.imageWrapper},[f("img",{ref:"image",crossorigin:o.imageAttributes.crossOrigin,src:o.imageAttributes.src,class:s.classes.image,style:s.imageStyle,onMousedown:t[1]||(t[1]=si(function(){},["prevent"]))},null,46,["crossorigin","src"])],2),f("div",{class:s.classes.foreground,style:s.boundariesStyle},null,6),Ct((z(),S(Se(i.stencilComponent),xt({ref:"stencil",image:s.image,coordinates:o.coordinates,"stencil-coordinates":s.stencilCoordinates,transitions:s.transitionsOptions},i.stencilProps,{onResize:s.onResize,onResizeEnd:s.onResizeEnd,onMove:s.onMove,onMoveEnd:s.onMoveEnd}),null,16,["image","coordinates","stencil-coordinates","transitions","onResize","onResizeEnd","onMove","onMoveEnd"])),[[At,o.imageLoaded]]),i.canvas?(z(),S("canvas",Is,null,512)):H("",!0),i.canvas?(z(),S("canvas",Us,null,512)):H("",!0)]}),_:1},8,["class","wheel-resize","touch-resize","touch-move","mouse-move","onMove","onResize"]))],6)],2)};const Vs="/assets/profile_page-CGF5qOxp.webp",Ys={class:"d-flex flex-column align-center justify-center",style:{"min-height":"320px"}},Fs={key:0,class:"step-content"},Ns={class:"profile-header"},Xs={class:"welcome-section hero-content"},Zs={class:"claim-link-section"},qs={class:"username-section"},Gs={class:"claim-actions"},Qs={key:1,class:"step-content"},Js={class:"template-selection-section"},Ks={class:"progress-container mt-10"},en={class:"progress-bar"},tn={class:"enhanced-template-grid"},sn=["onClick"],nn={key:0,class:"selection-overlay"},on={class:"selection-checkmark"},an={class:"enhanced-template-actions"},rn={class:"actions-content"},ln={class:"action-buttons"},hn={key:2,class:"step-content"},cn={class:"customize-section-enhanced"},un={key:0,class:"customize-header-enhanced"},dn={class:"progress-container mt-10"},pn={class:"progress-bar"},mn={class:"customize-form-container"},fn={key:0,class:"step-content"},gn={class:"profile-details-minimal"},vn={class:"avatar-upload-minimal"},bn=["src"],wn={key:1,width:"80",height:"80",viewBox:"0 0 120 121",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{width:"80px",height:"80px"}},yn={class:"avatar-overlay-minimal",style:{position:"absolute",bottom:"0",right:"0"}},_n={class:"minimal-inputs"},zn={class:"minimal-actions"},Cn={class:"d-flex flex-column align-center w-100"},An={key:1},xn={class:"customize-header-enhanced"},Rn={class:"progress-container mt-10"},kn={class:"progress-bar"},Mn={key:2,class:"form-card social-section"},Sn={class:"form-content"},En={class:"social-icons-section"},Wn={class:"social-icons-container"},Tn=["onClick"],Dn={class:"platform-icon",style:{background:"none","box-shadow":"none"}},Ln=["src","alt"],jn={key:0,class:"check-icon"},Bn={class:"minimal-actions d-flex justify-space-between mt-4"},Pn={class:"d-flex flex-column flex-md-row justify-center align-center w-100 gap-2"},$n={key:3},On={class:"customize-header-enhanced"},Hn={class:"progress-container mt-10"},In={class:"progress-bar"},Un={class:"form-card social-section"},Vn={class:"form-content"},Yn={class:"selected-social-section"},Fn={class:"selected-social-grid"},Nn={class:"d-flex align-center mb-2"},Xn={class:"platform-icon-circle mr-3",style:{width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center"}},Zn=["src","alt"],qn={class:"d-flex align-center mb-2"},Gn={class:"minimal-actions mt-6"},Qn={class:"d-flex flex-column flex-md-row justify-center align-center w-100 gap-2"},Jn={key:3,class:"step-content"},Kn={class:"link-tag-section"},eo={class:"tag-instructions"},to={class:"instruction-card"},io={class:"steps-list"},so={class:"instruction-step"},no={class:"step-text"},oo={class:"app-download-section"},ao={class:"download-buttons"},ro={class:"step-actions"},lo={key:4,class:"step-content"},ho={class:"success-section text-center"},co={class:"final-link"},uo={class:"final-actions"},po={__name:"Profile",setup(e){const t=k(null),i=["template01","template02","template03","template04","template05","template06","template07","template08","template09","template010","template011","template012"];function n(b){const g=r.state.theme==="dark"?"W":"B";return new URL(Object.assign({"../assets/Btemplate01.webp":vi,"../assets/Btemplate010.webp":bi,"../assets/Btemplate011.webp":wi,"../assets/Btemplate012.webp":yi,"../assets/Btemplate02.webp":_i,"../assets/Btemplate03.webp":zi,"../assets/Btemplate04.webp":Ci,"../assets/Btemplate05.webp":Ai,"../assets/Btemplate06.webp":xi,"../assets/Btemplate07.webp":Ri,"../assets/Btemplate08.webp":ki,"../assets/Btemplate09.webp":Mi,"../assets/Wtemplate01.webp":Si,"../assets/Wtemplate010.webp":Ei,"../assets/Wtemplate011.webp":Wi,"../assets/Wtemplate012.webp":Ti,"../assets/Wtemplate02.webp":Di,"../assets/Wtemplate03.webp":Li,"../assets/Wtemplate04.webp":ji,"../assets/Wtemplate05.webp":Bi,"../assets/Wtemplate06.webp":Pi,"../assets/Wtemplate07.webp":$i,"../assets/Wtemplate08.webp":Oi,"../assets/Wtemplate09.webp":Hi,"../assets/create_profile.webp":Ii,"../assets/download_app.webp":Ui,"../assets/easy_smart.webp":Vi,"../assets/homepage.webp":Yi,"../assets/profile_page.webp":Fi,"../assets/profile_preview.webp":Ni,"../assets/shop_now.webp":Xi,"../assets/why_ilink.webp":Zi})[`../assets/${g}${b}.webp`],import.meta.url).href}function o(b){const h=String(b).padStart(2,"0");return new URL(Object.assign({"../assets/social01.jpg":qi,"../assets/social02.jpg":Gi,"../assets/social03.jpg":Qi,"../assets/social04.jpg":Ji,"../assets/social05.jpg":Ki,"../assets/social06.jpg":es,"../assets/social07.jpg":ts,"../assets/social08.jpg":is,"../assets/social09.jpg":ss,"../assets/social10.jpg":ns,"../assets/social11.jpg":os,"../assets/social12.jpg":as,"../assets/social13.jpg":rs,"../assets/social14.jpg":ls,"../assets/social15.jpg":hs})[`../assets/social${h}.jpg`],import.meta.url).href}function s(b){const g=["whatsapp","facebook","instagram","twitter","tiktok","snapchat","threads","telegram","youtube","personal website","linkedin","behance","twitch","pinterest","discord"].indexOf(b);return g>=0?g+1:1}const r=oi(),l=ri(),a=k(1),u=k(1),d=k(!1),p=k(!1),m=k(!1),v=k(!1),A=k(!1),_=k(""),W=k(""),D=k([]),Q=k(!1),ie=k(!1),J=k(!1),Vt=k([]),M=ht({firstName:"",lastName:"",title:"",company:"",phone:"",website:"",bio:"",background:"gradient-blue",socialMedia:{instagram:"",twitter:"",linkedin:"",facebook:"",youtube:"",tiktok:"",github:"",behance:"",dribbble:"",snapchat:"",discord:"",patreon:"",email:"",website:""},socialMediaVisibility:{instagram:!0,twitter:!0,linkedin:!0,facebook:!0,youtube:!0,tiktok:!0,github:!0,behance:!0,dribbble:!0,snapchat:!0,discord:!0,patreon:!0,email:!0,website:!0}}),tt=k([{id:"gradient-blue",name:"Ocean Blue",type:"gradient",value:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",preview:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},{id:"gradient-purple",name:"Purple Dream",type:"gradient",value:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)",preview:"linear-gradient(135deg, #a8edea 0%, #fed6e3 100%)"},{id:"gradient-sunset",name:"Sunset Glow",type:"gradient",value:"linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%)",preview:"linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%)"},{id:"gradient-mint",name:"Fresh Mint",type:"gradient",value:"linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%)",preview:"linear-gradient(135deg, #a8e6cf 0%, #dcedc1 100%)"},{id:"gradient-coral",name:"Coral Reef",type:"gradient",value:"linear-gradient(135deg, #ff8a80 0%, #ffb74d 100%)",preview:"linear-gradient(135deg, #ff8a80 0%, #ffb74d 100%)"},{id:"solid-dark",name:"Dark Mode",type:"solid",value:"#1a1a1a",preview:"#1a1a1a"},{id:"solid-white",name:"Clean White",type:"solid",value:"#ffffff",preview:"#ffffff"},{id:"custom-color",name:"Custom Color",type:"custom",value:()=>it.value,preview:()=>it.value}]),it=k("#667eea"),st=k(!1),we=k(!1),De=k(null),re=k(null),fe=k(!1),nt=k(null);k(null);const le=ht({show:!1,message:"",color:"success"}),F=k([]);k(null),k(0),k(0),k(!1);function Yt(){a.value=3,u.value=1,F.value=[],tt.value.length>0?M.background=tt.value[0].id:M.background=null}const L=he(()=>r.state.user),ot=he(()=>L.value&&(L.value.firstName||L.value.name||L.value.email?.split("@")[0])||"User"),Ft=he(()=>{if(re.value)return re.value;const b=r.state.theme==="dark",h=b?"000000":"ffffff",g=b?"fff":"000";if(L.value){const O=ot.value;return`https://ui-avatars.com/api/?name=${encodeURIComponent(O)}&size=80&background=${h}&color=${g}&format=svg`}return`https://ui-avatars.com/api/?name=User&size=80&background=${h}&color=${g}&format=svg`}),at=he(()=>_.value&&Q.value&&D.value.length===0);he(()=>F.value.some(b=>M.socialMedia[b]&&M.socialMedia[b].trim()!==""));const Nt=()=>{const b=L.value,h=[];if(b){const g=b.firstName?.toLowerCase()||"",O=b.lastName?.toLowerCase()||"",_e=b.email?.split("@")[0].toLowerCase()||"";g&&O&&(h.push(`${g}-${O}`),h.push(`${g}${O}`),h.push(`${g}.${O}`)),g&&(h.push(`${g}123`),h.push(`${g}_official`)),_e&&(h.push(_e),h.push(`${_e}pro`))}Vt.value=h.slice(0,4)},rt=async()=>{if(D.value=[],Q.value=!1,!!_.value){if(_.value.length<3){D.value.push("Username must be at least 3 characters");return}if(_.value.length>30){D.value.push("Username must be less than 30 characters");return}if(!/^[a-zA-Z0-9_-]+$/.test(_.value)){D.value.push("Username can only contain letters, numbers, hyphens, and underscores");return}ie.value=!0;try{const b=await r.dispatch("checkUsernameAvailability",_.value);b.available?Q.value=!0:D.value.push(b.message||"Username is not available")}catch{D.value.push("Error checking username availability")}finally{ie.value=!1}}},Xt=async()=>{if(!(!at.value||!L.value)){console.log("Claiming link for user:",L.value),console.log("User ID:",L.value.id,"Type:",typeof L.value.id),J.value=!0;try{const b=await r.dispatch("claimUsername",{userId:L.value.id,username:_.value});W.value=_.value,d.value=!0,a.value=2,window.scrollTo({top:0,behavior:"smooth"})}catch(b){N(b.message||"Failed to claim link. Please try again.","error")}finally{J.value=!1}}},ye=he(()=>({1:25,2:50,3:75,4:100})[a.value]||0),Zt=()=>{De.value&&De.value.click()},qt=async b=>{const h=b.target.files[0];if(h){if(!h.type.startsWith("image/")){N("Please select a valid image file","error");return}if(h.size>5*1024*1024){N("Image size must be less than 5MB","error");return}we.value=!0;try{const g=new FileReader;g.onload=O=>{nt.value=O.target.result,fe.value=!0,we.value=!1},g.onerror=()=>{N("Error reading file. Please try again.","error"),we.value=!1},g.readAsDataURL(h)}catch{N("Failed to upload image. Please try again.","error"),we.value=!1}}};function Gt(b){b&&b.canvas&&(re.value=b.canvas.toDataURL(),fe.value=!1)}const Qt=()=>{if(!t.value)return;p.value=!0,a.value=3,window.scrollTo({top:0,behavior:"smooth"});const b={template01:{socials:["whatsapp","facebook","instagram","snapchat"],background:"#141414"},template02:{socials:["whatsapp","facebook","instagram","tiktok"],background:"#ffcb05"},template03:{socials:["whatsapp","facebook","instagram","linkedin"],background:"linear-gradient(135deg, rgba(0,185,242,1) 0%, rgba(88,176,227,1) 35%, rgba(198,61,150,1) 100%)"},template04:{socials:["whatsapp","facebook","instagram","twitter","youtube"],background:"#f49ac1"},template05:{socials:["whatsapp","facebook","instagram","youtube"],background:"white"},template06:{socials:["facebook","instagram","twitter"],background:"#683a97"},template07:{socials:["whatsapp","facebook","instagram"],background:"#a78983"},template08:{socials:["whatsapp","facebook","instagram","tiktok"],background:"#fee1ca"},template09:{socials:["whatsapp","facebook","instagram","twitter","youtube"],background:"#0080ad"},template010:{socials:["whatsapp","facebook","instagram","tiktok"],background:"#999b9e"},template011:{socials:["whatsapp","facebook","instagram","youtube"],background:"#00a8ae"},template012:{socials:["facebook","instagram","tiktok"],background:"#005fad"}},h=typeof t.value=="string"?t.value:t.value.name,g=b[h]||{socials:["whatsapp","facebook","instagram","twitter","tiktok","snapchat","threads","telegram","youtube","personal website","linkedin","behance","twitch","pinterest","discord"],background:"gradient-blue"};g.socials.forEach(O=>{O in M.socialMedia||(M.socialMedia[O]="")}),F.value=g.socials,M.background=g.background},lt=b=>({instagram:"Instagram",twitter:"Twitter/X",linkedin:"LinkedIn",facebook:"Facebook",youtube:"YouTube",tiktok:"TikTok",github:"GitHub",behance:"Behance",dribbble:"Dribbble",snapchat:"Snapchat",discord:"Discord",patreon:"Patreon",email:"Email",phone:"Phone",website:"Website"})[b]||b.charAt(0).toUpperCase()+b.slice(1),Jt=b=>({instagram:"@username or instagram.com/username",twitter:"@username or x.com/username",linkedin:"linkedin.com/in/username",facebook:"facebook.com/username",youtube:"youtube.com/@username",tiktok:"@username or tiktok.com/@username",github:"github.com/username",behance:"behance.net/username",dribbble:"dribbble.com/username",snapchat:"@username",discord:"username#1234",patreon:"patreon.com/username",email:"your@email.com",phone:"+1 (555) 123-4567",website:"https://yourwebsite.com"})[b]||`Your ${b} profile`,Kt=b=>{const h=F.value.indexOf(b);h>-1?(F.value.splice(h,1),M.socialMedia[b]="",M.socialMediaVisibility[b]=!0):(F.value.push(b),M.socialMediaVisibility[b]=!0)},ei=async()=>{if(L.value){st.value=!0;try{const b={...M,avatar:re.value},h=await r.dispatch("updateProfile",{userId:L.value.id,profileData:b});m.value=!0,a.value=4,window.scrollTo({top:0,behavior:"smooth"}),N(h.message||"Profile saved successfully!","success")}catch(b){N(b.message||"Failed to save profile. Please try again.","error")}finally{st.value=!1}}},ti=()=>{v.value=!0,A.value=!0,N("Setup completed! Your iLink profile is ready.","success")},ii=async()=>{try{await navigator.clipboard.writeText(`ilink.app/${W.value}`),N("Link copied to clipboard!","success")}catch{N("Failed to copy link","error")}},N=(b,h)=>{le.message=b,le.color=h,le.show=!0};return ai(()=>{if(!r.state.isAuthenticated){l.push({name:"Login"});return}L.value&&(M.firstName=L.value.firstName||"",M.lastName=L.value.lastName||"",M.firstName&&M.lastName?_.value=`${M.firstName}-${M.lastName}`.toLowerCase():L.value.email&&(_.value=L.value.email.split("@")[0].toLowerCase())),Nt()}),li(_,()=>{_.value&&rt()}),(b,h)=>(z(),E(ne,null,[f(hi,{modelValue:fe.value,"onUpdate:modelValue":h[2]||(h[2]=g=>fe.value=g),"max-width":"400"},{default:w(()=>[f(ct,{class:"pa-4",style:{"border-radius":"18px"}},{default:w(()=>[f(di,{class:"text-center pb-0",style:{"font-size":"1.3rem","font-weight":"600"}},{default:w(()=>h[13]||(h[13]=[C("Crop Your Profile Image")])),_:1,__:[13]}),f(ut,{class:"d-flex flex-column align-center"},{default:w(()=>[h[14]||(h[14]=c("div",{class:"mb-2 text-center",style:{"font-size":"1rem",color:"#666"}}," Drag to reposition, pinch/scroll to zoom, then crop your image for a perfect round avatar. ",-1)),c("div",Ys,[f(je(Ut),{src:nt.value,"stencil-props":{aspectRatio:1,movable:!0,scalable:!0,handlers:{},lines:{}},"auto-zoom":!0,"image-restriction":"stencil","stencil-size":{width:200,height:200},ref:"cropper"},null,8,["src"])])]),_:1,__:[14]}),f(pi,{class:"d-flex flex-column flex-md-row justify-center align-center gap-2 pt-2"},{default:w(()=>[f(j,{color:"primary",class:"continue-btn",style:{"min-width":"120px"},onClick:h[0]||(h[0]=g=>Gt(b.$refs.cropper.getResult()))},{default:w(()=>h[15]||(h[15]=[C("Crop & Save")])),_:1,__:[15]}),f(j,{variant:"outlined",class:"back-btn",style:{"min-width":"120px"},onClick:h[1]||(h[1]=g=>fe.value=!1)},{default:w(()=>h[16]||(h[16]=[C("Cancel")])),_:1,__:[16]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),c("div",{class:Le(["profile-page",a.value===1?"gradient-bg":je(r).state.theme==="dark"?"dark-bg":"light-bg"])},[f(ci,{class:"profile-container"},{default:w(()=>[f(Be,{justify:"center"},{default:w(()=>[f(Pe,{cols:"12",lg:"12"},{default:w(()=>[f(ct,{style:{background:"transparent",border:"none","box-shadow":"none"}},{default:w(()=>[f(ut,{class:"profile-content"},{default:w(()=>[a.value===1?(z(),E("div",Fs,[f(Be,{justify:"center",class:"mb-6"},{default:w(()=>[f(Pe,{cols:"12",md:"10",lg:"8",class:"text-center"},{default:w(()=>[c("div",Ns,[c("div",Xs,[f(mi,{size:"80",class:"profile-avatar mb-4"},{default:w(()=>[f($e,{src:Ft.value,alt:ot.value},null,8,["src","alt"])]),_:1}),h[17]||(h[17]=c("h1",{class:"header-title header-black"}," Welcome smart one. ",-1)),h[18]||(h[18]=c("p",{class:"welcome-subtitle"}," Ready to make Your iLink profile smart? ",-1))])])]),_:1})]),_:1}),f(Be,{justify:"center"},{default:w(()=>[f(Pe,{cols:"12",md:"10",lg:"8"},{default:w(()=>[f($e,{src:je(Vs),class:"ilink-image"},null,8,["src"])]),_:1})]),_:1}),c("div",Zs,[c("div",qs,[h[20]||(h[20]=c("h3",{class:"username-header"},"Choose a username",-1)),h[21]||(h[21]=c("p",{class:"username-subtitle"}," Choose a iLink URL for your new iLink. ",-1)),f(ge,{modelValue:_.value,"onUpdate:modelValue":h[3]||(h[3]=g=>_.value=g),variant:"outlined","error-messages":D.value,loading:ie.value,"hide-details":"auto",class:"username-input",onInput:rt,"bg-color":"white",rounded:"xl"},{"prepend-inner":w(()=>h[19]||(h[19]=[c("span",{class:"username-prefix"},"ilink.you/",-1)])),_:1},8,["modelValue","error-messages","loading"]),h[22]||(h[22]=c("p",{class:"username-restriction"}," Username must be 3 characters or longer. ",-1))]),c("div",Gs,[f(j,{color:"black",size:"large",class:"claim-btn",loading:J.value,disabled:!at.value,onClick:Xt,rounded:"pill",block:""},{default:w(()=>h[23]||(h[23]=[C(" Continue ")])),_:1,__:[23]},8,["loading","disabled"])])])])):H("",!0),a.value===2?(z(),E("div",Qs,[c("div",Js,[h[28]||(h[28]=c("div",{class:"template-header-enhanced"},[c("div",{class:"welcome-section"},[c("h1",{class:"header-title"},"Select Your Profile")])],-1)),h[29]||(h[29]=c("div",{class:"text-center mt-0 mb-4"},[c("p",{style:{"font-size":"1.1rem"}},[C(" Pick the style that make you smart, "),c("br"),C(" You can add your content later. ")])],-1)),c("div",Ks,[h[24]||(h[24]=c("div",{class:"progress-steps"},null,-1)),c("div",en,[c("div",{class:"progress-fill",style:ze({width:ye.value+"%"})},null,4)])]),c("div",tn,[(z(),E(ne,null,ue(i,g=>c("div",{key:g,class:"template-card-wrapper"},[c("div",{class:Le(["enhanced-template-card",{selected:t.value===g}]),onClick:O=>t.value=g},[f($e,{src:n(g),class:"template-preview-image","aspect-ratio":"9/16",cover:""},null,8,["src"]),t.value===g?(z(),E("div",nn,[c("div",on,[f(X,{color:"black",size:"32"},{default:w(()=>h[25]||(h[25]=[C("mdi-check-circle")])),_:1,__:[25]})])])):H("",!0)],10,sn)])),64))]),c("div",an,[c("div",rn,[c("div",ln,[f(j,{variant:"outlined",size:"large",onClick:Yt,class:"claim-btn",rounded:"pill",block:""},{default:w(()=>h[26]||(h[26]=[C(" Start with blank template ")])),_:1,__:[26]}),f(j,{size:"large",disabled:!t.value,onClick:Qt,class:"claim-btn",variant:"outlined",rounded:"pill",block:""},{default:w(()=>h[27]||(h[27]=[C(" Start with this template ")])),_:1,__:[27]},8,["disabled"])])])])])])):H("",!0),a.value===3?(z(),E("div",hn,[c("div",cn,[u.value===1?(z(),E("div",un,[h[31]||(h[31]=c("div",{class:"customize-header-content profile-create-card"},[c("h2",{class:"profile-create-title"},"Your profile details")],-1)),h[32]||(h[32]=c("div",{class:"text-center my-4"},[c("p",{style:{"font-size":"1.1rem"},class:"header-info"}," Add your profile image, name, and bio. ")],-1)),c("div",dn,[h[30]||(h[30]=c("div",{class:"progress-steps"},null,-1)),c("div",pn,[c("div",{class:"progress-fill",style:ze({width:ye.value+"%"})},null,4)])])])):H("",!0),c("div",mn,[f(fi,{class:"enhanced-profile-form"},{default:w(()=>[u.value===1?(z(),E("div",fn,[c("div",gn,[c("div",vn,[c("div",{class:"avatar-minimal",onClick:Zt,style:{width:"80px",height:"80px",position:"relative",cursor:"pointer"}},[re.value?(z(),E("img",{key:0,src:re.value,alt:"Avatar",style:{width:"80px",height:"80px","object-fit":"cover","border-radius":"50%"}},null,8,bn)):(z(),E("svg",wn,h[33]||(h[33]=[c("path",{d:"M60 120.82C93.1371 120.82 120 93.9571 120 60.82C120 27.6829 93.1371 0.820007 60 0.820007C26.8629 0.820007 0 27.6829 0 60.82C0 93.9571 26.8629 120.82 60 120.82Z",fill:"#7B7B7B"},null,-1),c("path",{d:"M90.38 97.81C89.25 97.81 88.16 97.23 87.55 96.18C81.88 86.37 71.32 80.28 60 80.28C48.68 80.28 38.12 86.37 32.45 96.18C31.55 97.74 29.55 98.27 27.99 97.37C26.43 96.47 25.9 94.47 26.8 92.91C33.64 81.09 46.36 73.75 60 73.75C73.64 73.75 86.37 81.09 93.2 92.91C94.1 94.47 93.57 96.47 92.01 97.37C91.49 97.67 90.93 97.81 90.38 97.81Z",fill:"white"},null,-1),c("path",{d:"M73.09 97.81C71.96 97.81 70.87 97.23 70.26 96.18C68.15 92.53 64.21 90.25 60 90.25C55.79 90.25 51.85 92.52 49.74 96.18C48.84 97.74 46.84 98.27 45.28 97.37C43.72 96.47 43.19 94.47 44.09 92.91C47.37 87.24 53.47 83.72 60.01 83.72C66.55 83.72 72.65 87.24 75.93 92.91C76.83 94.47 76.3 96.47 74.74 97.37C74.22 97.67 73.66 97.81 73.11 97.81H73.09Z",fill:"white"},null,-1),c("path",{d:"M60 70.44C47.15 70.44 36.69 59.98 36.69 47.13C36.69 34.28 47.15 23.82 60 23.82C72.85 23.82 83.31 34.28 83.31 47.13C83.31 59.98 72.85 70.44 60 70.44ZM60 30.36C50.75 30.36 43.22 37.89 43.22 47.14C43.22 56.39 50.75 63.92 60 63.92C69.25 63.92 76.78 56.39 76.78 47.14C76.78 37.89 69.25 30.36 60 30.36Z",fill:"white"},null,-1),c("path",{d:"M100.86 113.03C107.007 113.03 111.99 108.047 111.99 101.9C111.99 95.7531 107.007 90.77 100.86 90.77C94.7131 90.77 89.73 95.7531 89.73 101.9C89.73 108.047 94.7131 113.03 100.86 113.03Z",fill:"black"},null,-1),c("path",{d:"M106.3 102.97H102.52C102.22 102.97 101.98 103.21 101.98 103.51V107.21C101.98 107.51 101.74 107.75 101.44 107.75H100.28C99.98 107.75 99.74 107.51 99.74 107.21V103.51C99.74 103.21 99.5 102.97 99.2 102.97H95.43C95.13 102.97 94.89 102.73 94.89 102.43V101.41C94.89 101.11 95.13 100.87 95.43 100.87H99.2C99.5 100.87 99.74 100.63 99.74 100.33V96.61C99.74 96.31 99.98 96.07 100.28 96.07H101.44C101.74 96.07 101.98 96.31 101.98 96.61V100.33C101.98 100.63 102.22 100.87 102.52 100.87H106.3C106.6 100.87 106.84 101.11 106.84 101.41V102.43C106.84 102.73 106.6 102.97 106.3 102.97Z",fill:"white"},null,-1)]))),c("div",yn,[f(X,{color:"black",size:"20"},{default:w(()=>h[34]||(h[34]=[C("mdi-plus-circle")])),_:1,__:[34]})])])]),c("input",{ref_key:"fileInput",ref:De,type:"file",accept:"image/*",style:{display:"none"},onChange:qt},null,544)]),c("div",_n,[f(ge,{modelValue:M.displayName,"onUpdate:modelValue":h[4]||(h[4]=g=>M.displayName=g),placeholder:"Display Name",variant:"outlined",class:"minimal-input","hide-details":"auto",rounded:""},null,8,["modelValue"]),f(gi,{modelValue:M.bio,"onUpdate:modelValue":h[5]||(h[5]=g=>M.bio=g),placeholder:"Bio",variant:"outlined",class:"minimal-textarea",rows:"5",counter:"140",maxlength:"140","hide-details":"auto",rounded:""},null,8,["modelValue"])]),c("div",zn,[c("div",Cn,[f(j,{color:"black",class:"claim-btn mb-2",variant:"outlined",rounded:"pill",block:"",large:"",onClick:h[6]||(h[6]=g=>u.value=2),disabled:!M.displayName},{default:w(()=>h[35]||(h[35]=[C(" Continue ")])),_:1,__:[35]},8,["disabled"]),f(j,{color:"black",class:"claim-btn",variant:"outlined",rounded:"pill",block:"",large:"",onClick:h[7]||(h[7]=g=>a.value=2)},{default:w(()=>h[36]||(h[36]=[C(" Back ")])),_:1,__:[36]})])])])):H("",!0),u.value===2?(z(),E("div",An,[c("div",xn,[h[38]||(h[38]=c("div",{class:"customize-header-content profile-create-card"},[c("h2",{class:"profile-create-title"},[C(" Which Platforms "),c("br"),C("are you on? ")])],-1)),h[39]||(h[39]=c("div",{class:"text-center my-4"},[c("p",{style:{"font-size":"1.1rem"},class:"header-info"},[C(" Pick up to get started."),c("br"),C(" You can update at any time. ")])],-1)),c("div",Rn,[h[37]||(h[37]=c("div",{class:"progress-steps"},null,-1)),c("div",kn,[c("div",{class:"progress-fill",style:ze({width:ye.value+"%"})},null,4)])])])])):H("",!0),u.value===2?(z(),E("section",Mn,[c("div",Sn,[c("div",null,[c("div",En,[c("div",Wn,[(z(),E(ne,null,ue(["whatsapp","facebook","instagram","twitter","tiktok","snapchat","threads","telegram","youtube","personal website","linkedin","behance","twitch","pinterest","discord"],(g,O)=>c("div",{key:g,class:Le(["social-icon-card",{selected:F.value.includes(g)}]),onClick:_e=>Kt(g)},[c("span",Dn,[c("img",{src:o(O+1),alt:lt(g),style:{background:"none","box-shadow":"none","border-radius":"21px"}},null,8,Ln)]),F.value.includes(g)?(z(),E("span",jn,h[40]||(h[40]=[c("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c("circle",{cx:"12",cy:"12",r:"12",fill:"#4CAF50"}),c("path",{d:"M17 8.5L10.5 15L7 11.5",stroke:"white","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))):H("",!0)],10,Tn)),64))])])]),c("div",Bn,[c("div",Pn,[f(j,{variant:"outlined",rounded:"pill",block:"",class:"claim-btn mb-2 mb-md-0 mr-md-2",color:"primary",onClick:h[8]||(h[8]=g=>u.value=3),disabled:F.value.length===0},{default:w(()=>h[41]||(h[41]=[C(" Continue ")])),_:1,__:[41]},8,["disabled"]),f(j,{variant:"outlined",rounded:"pill",block:"",class:"claim-btn",onClick:h[9]||(h[9]=g=>u.value=1)},{default:w(()=>h[42]||(h[42]=[C(" Back ")])),_:1,__:[42]})])])])])):H("",!0),u.value===3?(z(),E("div",$n,[c("div",On,[h[44]||(h[44]=c("div",{class:"customize-header-content profile-create-card"},[c("h2",{class:"profile-create-title"},"Add your links")],-1)),h[45]||(h[45]=c("div",{class:"text-center my-4"},[c("p",{style:{"font-size":"1.1rem"},class:"header-info"},[C(" Complete the fields below"),c("br"),C(" to add your content to your new Link. ")])],-1)),c("div",Hn,[h[43]||(h[43]=c("div",{class:"progress-steps"},null,-1)),c("div",In,[c("div",{class:"progress-fill",style:ze({width:ye.value+"%"})},null,4)])])]),c("section",Un,[c("div",Vn,[h[50]||(h[50]=c("div",{class:"text-center mb-4"},[c("h3",{style:{"font-size":"1.1rem","font-weight":"600"}}," Your Selections ")],-1)),c("div",Yn,[c("div",Fn,[(z(!0),E(ne,null,ue(F.value,g=>(z(),E("div",{key:g,class:"social-input-item mb-3"},[c("div",Nn,[c("div",Xn,[c("img",{src:o(s(g)),alt:lt(g),style:{width:"50px",height:"50px","border-radius":"50%","object-fit":"cover"}},null,8,Zn)]),f(ge,{modelValue:M.socialMedia[g],"onUpdate:modelValue":O=>M.socialMedia[g]=O,placeholder:Jt(g),variant:"outlined",density:"comfortable","hide-details":"auto",clearable:"",class:"social-input-field",rounded:""},null,8,["modelValue","onUpdate:modelValue","placeholder"])])]))),128))]),h[49]||(h[49]=c("div",{class:"text-center mt-6 mb-4"},[c("h3",{style:{"font-size":"1.1rem","font-weight":"600"}}," Additional links ")],-1)),(z(),E(ne,null,ue(3,g=>c("div",{key:"additional-"+g,class:"additional-link-item mb-3"},[c("div",qn,[h[46]||(h[46]=c("div",{class:"platform-icon-circle mr-3",style:{width:"40px",height:"40px",display:"flex","align-items":"center","justify-content":"center"}},[c("svg",{width:"60",height:"60",viewBox:"0 0 60 60",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[c("path",{d:"M49.5469 19.7778L39.7606 9.99142C34.2425 4.47331 25.2959 4.47331 19.7777 9.99142L9.99141 19.7778C4.4733 25.2959 4.4733 34.2425 9.9914 39.7606L19.7778 49.547C25.2959 55.0651 34.2425 55.0651 39.7606 49.5469L49.5469 39.7606C55.065 34.2425 55.0651 25.2959 49.5469 19.7778Z",fill:"white",stroke:"black","stroke-width":"0.99","stroke-miterlimit":"10"}),c("path",{d:"M28.0792 31.4582C26.1092 29.4882 25.9792 26.3981 27.8092 24.5781L32.3692 20.0182C34.1892 18.1982 37.2792 18.3182 39.2492 20.2882C41.2192 22.2582 41.3492 25.3482 39.5192 27.1682L34.9592 31.7282C34.6492 32.0382 34.1392 32.0382 33.8192 31.7282C33.4992 31.4182 33.5092 30.9082 33.8192 30.5882L38.3792 26.0282C39.5792 24.8282 39.4492 22.7682 38.1092 21.4182C36.7692 20.0682 34.6992 19.9482 33.4992 21.1482L28.9392 25.7082C27.7392 26.9082 27.8692 28.9681 29.2092 30.3181C29.5192 30.6281 29.5192 31.1382 29.2092 31.4582C28.8992 31.7782 28.3892 31.7682 28.0692 31.4582H28.0792Z",fill:"black"}),c("path",{d:"M20.2992 39.2382C18.3292 37.2682 18.1992 34.1782 20.0292 32.3582L24.5892 27.7982C24.8992 27.4882 25.4092 27.4882 25.7292 27.7982C26.0492 28.1082 26.0392 28.6181 25.7292 28.9381L21.1692 33.4981C19.9692 34.6981 20.0992 36.7582 21.4392 38.1082C22.7792 39.4582 24.8492 39.5781 26.0492 38.3781L30.6092 33.8181C31.8092 32.6181 31.6792 30.5581 30.3392 29.2081C30.0292 28.8981 30.0292 28.3881 30.3392 28.0681C30.6492 27.7481 31.1592 27.7581 31.4792 28.0681C33.4492 30.0381 33.5792 33.1281 31.7492 34.9481L27.1892 39.5081C25.3692 41.3281 22.2792 41.2082 20.3092 39.2382H20.2992Z",fill:"black"})])],-1)),f(ge,{placeholder:"Enter URL",variant:"outlined",density:"comfortable","hide-details":"auto",clearable:"",class:"social-input-field",rounded:""})])])),64)),c("div",Gn,[c("div",Qn,[f(j,{color:"black",class:"claim-btn mb-2 mb-md-0 mr-md-2",variant:"flat",rounded:"pill",size:"large",block:"",onClick:ei},{default:w(()=>h[47]||(h[47]=[C(" Continue ")])),_:1,__:[47]}),f(j,{color:"black",class:"claim-btn",variant:"outlined",rounded:"pill",block:"",size:"large",onClick:h[10]||(h[10]=g=>u.value=2)},{default:w(()=>h[48]||(h[48]=[C(" Back ")])),_:1,__:[48]})])])])])])])):H("",!0)]),_:1})])])])):H("",!0),a.value===4?(z(),E("div",Jn,[c("div",Kn,[h[68]||(h[68]=c("h2",{class:"step-title"},"Link Your iLink Device",-1)),c("div",eo,[c("div",to,[f(X,{color:"primary",size:"48"},{default:w(()=>h[51]||(h[51]=[C("mdi-nfc")])),_:1,__:[51]}),h[52]||(h[52]=c("h3",null,"Ready to Connect?",-1)),h[53]||(h[53]=c("p",null," Download the iTag app and follow these simple steps to link your device to your new profile. ",-1))]),c("div",io,[h[57]||(h[57]=c("div",{class:"instruction-step"},[c("div",{class:"step-number"},"1"),c("div",{class:"step-text"},[c("strong",null,"Download the iTag app"),c("br"),C(" Available on iOS and Android ")])],-1)),h[58]||(h[58]=c("div",{class:"instruction-step"},[c("div",{class:"step-number"},"2"),c("div",{class:"step-text"},[c("strong",null,"Scan the QR code on Your iLink"),c("br"),C(" Use the app to pair your device ")])],-1)),c("div",so,[h[56]||(h[56]=c("div",{class:"step-number"},"3",-1)),c("div",no,[h[54]||(h[54]=c("strong",null,"Enter your profile link",-1)),h[55]||(h[55]=c("br",null,null,-1)),C(" "+dt(W.value?`ilink.app/${W.value}`:"Your claimed link"),1)])])]),c("div",oo,[h[63]||(h[63]=c("p",{class:"download-title"},"Download the iTag App:",-1)),c("div",ao,[f(j,{color:"black",variant:"elevated",class:"download-btn"},{default:w(()=>[f(X,{left:""},{default:w(()=>h[59]||(h[59]=[C("mdi-apple")])),_:1,__:[59]}),h[60]||(h[60]=C(" App Store "))]),_:1,__:[60]}),f(j,{color:"green",variant:"elevated",class:"download-btn"},{default:w(()=>[f(X,{left:""},{default:w(()=>h[61]||(h[61]=[C("mdi-google-play")])),_:1,__:[61]}),h[62]||(h[62]=C(" Google Play "))]),_:1,__:[62]})])])]),c("div",ro,[f(j,{variant:"outlined",onClick:h[11]||(h[11]=g=>a.value=2)},{default:w(()=>[f(X,{left:""},{default:w(()=>h[64]||(h[64]=[C("mdi-arrow-left")])),_:1,__:[64]}),h[65]||(h[65]=C(" Back "))]),_:1,__:[65]}),f(j,{color:"success",onClick:ti},{default:w(()=>[f(X,{left:""},{default:w(()=>h[66]||(h[66]=[C("mdi-check-all")])),_:1,__:[66]}),h[67]||(h[67]=C(" Complete Setup "))]),_:1,__:[67]})])])])):H("",!0),A.value?(z(),E("div",lo,[c("div",ho,[f(X,{color:"success",size:"80",class:"success-icon"},{default:w(()=>h[69]||(h[69]=[C("mdi-check-circle")])),_:1,__:[69]}),h[74]||(h[74]=c("h2",{class:"success-title"},"Setup Complete!",-1)),h[75]||(h[75]=c("p",{class:"success-description"}," Your iLink profile is ready. Share your link with others: ",-1)),c("div",co,[f(ge,{value:`ilink.app/${W.value}`,readonly:"",variant:"outlined","prepend-inner-icon":"mdi-link"},{append:w(()=>[f(j,{icon:"mdi-content-copy",variant:"text",onClick:ii})]),_:1},8,["value"])]),c("div",uo,[f(j,{color:"primary",to:{name:"Products"}},{default:w(()=>[f(X,{left:""},{default:w(()=>h[70]||(h[70]=[C("mdi-shopping")])),_:1,__:[70]}),h[71]||(h[71]=C(" Shop iLink Products "))]),_:1,__:[71]}),f(j,{variant:"outlined",to:{name:"Home"}},{default:w(()=>[f(X,{left:""},{default:w(()=>h[72]||(h[72]=[C("mdi-home")])),_:1,__:[72]}),h[73]||(h[73]=C(" Back to Home "))]),_:1,__:[73]})])])])):H("",!0)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),f(ui,{modelValue:le.show,"onUpdate:modelValue":h[12]||(h[12]=g=>le.show=g),class:"my-snackbar",location:"top",timeout:"2000"},{default:w(()=>[C(dt(le.message),1)]),_:1},8,["modelValue"])],2)],64))}},fo=ni(po,[["__scopeId","data-v-0c5fad25"]]);export{fo as default};
